{"version":3,"sources":["_services/MyHeaders.ts","_services/user.service.js","login/LoginPage.jsx","components/ficha/Ficha.ts","components/sistema/Sistema.tsx","escolheFicha/EscolheFicha.tsx","components/ficha/NomeApp.tsx","components/ficha/IdadeApp.tsx","components/ficha/NivelPersonagem.tsx","components/ficha/ExperienciaApp.tsx","components/habilidade/HabilidadeApp.tsx","components/habilidade/HabilidadesApp.tsx","components/raca/RacaApp.tsx","components/caminho/CaminhoApp.tsx","components/caminho/CaminhosApp.tsx","components/descendencia/DescendenciaApp.tsx","components/descendencia/DescendenciasApp.tsx","components/ficha/TabelaDeAtributosApp.tsx","components/habito/HabitosApp.tsx","components/ficha/FichaApp.tsx","components/quadroDeBatalha/QuadroDeBatalhaApp.tsx","personagem/FichaPersonagem.tsx","App.tsx","serviceWorker.js","index.js"],"names":["MyHeaders","headers","this","Headers","append","_myHeaders","undefined","name","value","getMyHeaders","delete","userService","login","username","password","requestOptions","method","body","JSON","stringify","credentials","fetch","then","response","handleResponse","user","authdata","window","btoa","localStorage","setItem","logout","removeItem","text","data","parse","ok","status","error","message","statusText","Promise","reject","LoginPage","props","state","submitted","loading","handleChange","bind","handleSumit","e","target","setState","preventDefault","add","location","hash","className","md","onSubmit","Group","controlId","Label","column","Control","type","placeholder","onChange","Text","variant","React","Component","Ficha","idFicha","idRaca","idCidade","idJogador","nomePersonagem","img","idade","afiliacao","cla","sorteDia","distForca","distConstituicao","distAgilidade","distDestreza","distInteligencia","distSabedoria","distCarisma","nivelPersonagem","expPersonagem","descPersonagem","histPersonagem","nota","idSanidade","raca","caminhos","descendencias","habilidades","habitos","idiomas","inventarios","patronos","situacoes","especializacoes","json","setFichaFromObject","obj","ficha","Sistema","_racas","_caminhos","_cidades","_descendencias","_habilidades","_habitos","_idiomas","_patronos","_especializacoes","localStorageSistema","getItem","setSistemaFromObject","sistemaGetRequest","racas","cidades","_sistema","sistema","EscolheFicha","resumoFichas","prevProps","prevState","snapshot","console","log","fetchResumoFichas","findByIdJogador","fichas","id","map","onClick","handleAction","src","alt","NomeApp","readOnly","onDoubleClick","updateFicha","event","as","plaintext","onBlur","IdadeApp","readonly","Number","FormGroup","Row","lg","sm","FormControl","toString","handleBlur","NivelPersonagem","newFicha","handleDoubleClick","ExperienciaApp","handleOnChange","handleOnBlur","HabilidadeApp","habilidade","descHabilidade","HabilidadesApp","prevHabilidade","newHabilidade","index","findIndex","valueIndex","updateHabilidades","concat","filter","idHabilidade","element","Tab","Container","Nav","NavItem","key","Link","eventKey","nomeHabilidade","TabContent","TabPane","update","RacaApp","show","newRaca","find","alert","updateRaca","handleOnHide","block","handleOnClick","nomeRaca","Modal","onHide","Header","closeButton","ModalBody","Tabs","defaultActiveKey","tabDesc","tabAtributos","tabCultura","tabHistoria","ModalFooter","handleOnSave","title","raridadeRaca","longevidadeRaca","descRaca","culturaRaca","historiaRaca","disabled","Table","sangue","vigor","racaForca","racaConstituicao","racaAgilidade","racaDestreza","racaInteligencia","racaSabedoria","racaCarisma","CaminhosApp","caminho","isInvalid","setTimeout","newCaminho","idCaminho","handleHide","nomeCaminho","renderBotoes","botoes","push","handleInvalid","descCaminho","showPlus","shows","prevCaminho","updateCaminhos","splice","renderAddCaminho","handleShow","style","paddingLeft","paddingRight","addCaminho","deleteCaminho","size","length","DescendenciaApp","descendencia","idDescendencia","nomeDescendencia","tabHabilidade","tabHabitos","descDescendencia","habito","nomeHabito","qtdFichaHabito","DescendenciasApp","newDescendencia","prevDescendencia","updateDescendencias","addDescendencia","updateDescendencia","deleteDescendencia","TabelaDeAtributosApp","Object","assign","hover","striped","HabitosApp","especComp","some","especHabito","idEspecializacao","forEach","especializacao","nomeEspecializacao","idHabito","FichaApp","habittos","updateHabitos","QuadroDeBatalhaApp","ws","WebSocket","fichaBatalha","k","action","onopen","send","onmessage","FichaPersonagem","queryString","href","split","Map","asynFichFetch","retorno","fluid","componentDidMount","TabContainer","animation","App","path","exact","component","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","document","getElementById","URL","process","origin","addEventListener","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"4SACqBA,E,WAIjB,aAAsB,yBAFdC,aAEa,EACjBC,KAAKD,QAAU,IAAIE,QACnBD,KAAKD,QAAQG,OAAO,eAAgB,oB,gEAOhC,OAHmB,OAApBF,KAAKG,iBAA2CC,IAApBJ,KAAKG,aAChCH,KAAKG,WAAa,IAAIL,GAEfE,KAAKG,WAAWJ,U,0BAGbM,EAAaC,GAC3BR,EAAUS,eAAeL,OAAOG,EAAMC,K,6BAGnBD,GACnBP,EAAUS,eAAeC,OAAOH,K,uCAIhCL,KAAKG,WAAa,IAAIL,M,KAzBTA,EACFK,gB,ECAZ,IAAMM,EAAc,CACvBC,MAIJ,SAAeC,EAAUC,GACrB,IAAMC,EAAiB,CACnBC,OAAQ,OACRf,QAAS,CAAC,eAAgB,oBAC1BgB,KAAMC,KAAKC,UAAU,CAACN,WAAUC,aAChCM,YAAa,WAEjB,OAAOC,MAAM,qBAAsBN,GAC9BO,MAAK,SAAAC,GACF,OAAOA,KAEVD,KAAKE,GACLF,MAAK,SAAAG,GAKF,OAJIA,IACAA,EAAKC,SAAWC,OAAOC,KAAKf,EAAW,IAAMC,GAC7Ce,aAAaC,QAAQ,OAAQZ,KAAKC,UAAUM,KAEzCA,MApBfM,UAwBJ,SAASA,IACLF,aAAaG,WAAW,QAG5B,SAASR,EAAeD,GACpB,OAAOA,EAASD,MAAK,SAAAC,GAGjB,OAFAvB,EAAUS,eAEHc,KACRU,OAAOX,MAAK,SAAAW,GACX,IAAMC,EAAOD,GAAQf,KAAKiB,MAAMF,GAChC,IAAKV,EAASa,GAAI,CACU,MAApBb,EAASc,QACTN,IAEJ,IAAMO,EAASJ,GAAQA,EAAKK,SAAYhB,EAASiB,WACjD,OAAOC,QAAQC,OAAOJ,GAE1B,OAAOJ,K,yFCrCTS,E,YACF,WAAYC,GAAQ,IAAD,8BACf,4CAAMA,KACDC,MAAQ,CACThC,SAAU,GACVC,SAAU,GACVgC,WAAW,EACXC,SAAS,EACTT,MAAO,IAEX,EAAKU,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKC,YAAc,EAAKA,YAAYD,KAAjB,gBAVJ,E,0EAaNE,GAAI,IAAD,EACUA,EAAEC,OAAjB7C,EADK,EACLA,KAAMC,EADD,EACCA,MACbN,KAAKmD,SAAL,eAAgB9C,EAAOC,M,kCAGf2C,GAAI,IAAD,OACXA,EAAEG,iBACFpD,KAAKmD,SAAS,CAACP,WAAW,IAFf,MAGkB5C,KAAK2C,MAA3BhC,EAHI,EAGJA,SAAUC,EAHN,EAGMA,SACjBd,EAAUuD,IAAI,gBAAgB,0BAC9B5C,EAAYC,MAAMC,EAAUC,GAAUQ,MAClC,SAAAG,GACIE,OAAO6B,SAASC,KAAQ,qBAE5B,SAAAnB,GAAK,OAAI,EAAKe,SAAS,CAACf,QAAOS,SAAS,OAE5CpB,OAAO6B,SAASC,KAAQ,oB,+BAIxB,OACI,kBAAC,IAAD,KACA,kBAAC,IAAD,CAAKC,UAAU,iCACb,kBAAC,IAAD,CAAKC,GAAI,GACP,kBAAC,IAAD,CAAMC,SAAU1D,KAAKgD,aACjB,kBAAC,IAAKW,MAAN,CAAYC,UAAU,qBAClB,kBAAC,IAAKC,MAAN,CAAYC,QAAQ,GAApB,YACA,kBAAC,IAAKC,QAAN,CAAcC,KAAK,OAAOC,YAAY,iBAAiB5D,KAAM,WAC/C6D,SAAUlE,KAAK8C,eAC7B,kBAAC,IAAKqB,KAAN,CAAWX,UAAU,gBAGzB,kBAAC,IAAKG,MAAN,CAAYC,UAAU,qBAClB,kBAAC,IAAKC,MAAN,CAAYC,QAAQ,GAApB,YACA,kBAAC,IAAKC,QAAN,CAAcC,KAAK,WAAWC,YAAY,WAAW5D,KAAM,WAC7C6D,SAAUlE,KAAK8C,gBAEjC,kBAAC,IAAD,CAAQsB,QAAQ,oBAAoBJ,KAAK,UAAzC,kB,GAnDIK,IAAMC,WCGTC,G,kBAmCjB,WAAYC,GAAkB,yBAlC9BA,aAkC6B,OAjC7BC,QAAkB,EAiCW,KAhC7BC,UAAoB,EAgCS,KA/B7BC,WAAqB,EA+BQ,KA9B7BC,eAAyB,GA8BI,KA7B7BC,IAAc,GA6Be,KA5B7BC,MAAgB,EA4Ba,KA3B7BC,UAAoB,GA2BS,KA1B7BC,IAAc,GA0Be,KAzB7BC,UAAoB,EAyBS,KAxB7BC,UAAoB,EAwBS,KAvB7BC,iBAA2B,EAuBE,KAtB7BC,cAAwB,EAsBK,KArB7BC,aAAuB,EAqBM,KApB7BC,iBAA2B,EAoBE,KAnB7BC,cAAwB,EAmBK,KAlB7BC,YAAsB,EAkBO,KAjB7BC,gBAA0B,EAiBG,KAhB7BC,cAAwB,EAgBK,KAf7BC,eAAyB,GAeI,KAd7BC,eAAyB,GAcI,KAb7BC,KAAe,GAac,KAZ7BC,WAAqB,EAYQ,KAX7BC,KAAa,GAWgB,KAV7BC,SAAsB,GAUO,KAT7BC,cAAgC,GASH,KAR7BC,YAA4B,GAQC,KAP7BC,QAAoB,GAOS,KAN7BC,QAAoB,GAMS,KAL7BC,YAA4B,GAKC,KAJ7BC,SAAsB,GAIO,KAH7BC,UAAwB,GAGK,KAF7BC,gBAAoC,GAGhCxG,KAAKwE,QAAUA,E,sDAGM,IAAD,OASpB,OARArD,MAAM,gBAAkBnB,KAAKwE,QAAS,CAClC1D,OAAQ,MACRf,QAASD,EAAUS,iBAElBa,MAAK,SAAAC,GAAQ,OAAIA,EAASoF,UAC1BrF,MAAK,SAAAY,GACF,EAAK0E,mBAAmB1E,MAEzBhC,O,yCAsBgB2G,GACvB3G,KAAKyE,OAASkC,EAAIlC,OAClBzE,KAAK0E,SAAWiC,EAAIjC,SACpB1E,KAAK2E,UAAYgC,EAAIhC,UACrB3E,KAAK4E,eAAiB+B,EAAI/B,eAC1B5E,KAAK6E,IAAM8B,EAAI9B,IACf7E,KAAK8E,MAAQ6B,EAAI7B,MACjB9E,KAAK+E,UAAY4B,EAAI5B,UACrB/E,KAAKgF,IAAM2B,EAAI3B,IACfhF,KAAKiF,SAAW0B,EAAI1B,SACpBjF,KAAKkF,UAAYyB,EAAIzB,UACrBlF,KAAKoF,cAAgBuB,EAAIvB,cACzBpF,KAAKwF,YAAcmB,EAAInB,YACvBxF,KAAKmF,iBAAmBwB,EAAIxB,iBAC5BnF,KAAKqF,aAAesB,EAAItB,aACxBrF,KAAKuF,cAAgBoB,EAAIpB,cACzBvF,KAAKsF,iBAAmBqB,EAAIrB,iBAC5BtF,KAAKyF,gBAAkBkB,EAAIlB,gBAC3BzF,KAAK0F,cAAgBiB,EAAIjB,cACzB1F,KAAK2F,eAAiBgB,EAAIhB,eAC1B3F,KAAK4F,eAAiBe,EAAIf,eAC1B5F,KAAK6F,KAAOc,EAAId,KAChB7F,KAAK8F,WAAaa,EAAIb,WACtB9F,KAAK+F,KAAOY,EAAIZ,KAChB/F,KAAKgG,SAAWW,EAAIX,SACpBhG,KAAKiG,cAAgBU,EAAIV,cACzBjG,KAAKkG,YAAcS,EAAIT,YACvBlG,KAAKmG,QAAUQ,EAAIR,QACnBnG,KAAKoG,QAAUO,EAAIP,QACnBpG,KAAKqG,YAAcM,EAAIN,YACvBrG,KAAKsG,SAAWK,EAAIL,SACpBtG,KAAKuG,UAAYI,EAAIJ,UACrBvG,KAAKwG,gBAAkBG,EAAIH,mB,yCAlD3B,OAAOrF,MAAM,oBAAqB,CAC9BL,OAAQ,MACRf,QAASD,EAAUS,eACnBW,YAAa,YAEZE,MAAK,SAAAC,GAAQ,OAAIA,EAASoF,UAC1BrF,MAAK,SAAAY,GAAI,OAAIA,O,6BAGD4E,GACjB,OAAOzF,MAAM,aACT,CACIL,OAAQ,MACRf,QAASD,EAAUS,eACnBQ,KAAMC,KAAKC,UAAU2F,S,MCnEhBC,E,WAYjB,aAAuB,yBAVfC,YAUc,OATdC,UAAwB,GASV,KARdC,cAQc,OAPdC,oBAOc,OANdC,kBAMc,OALdC,cAKc,OAJdC,cAIc,OAHdC,eAGc,OAFdC,sBAEc,EAClB,IAAMC,EAAsB5F,aAAa6F,QAAQ,WAC9CD,EACCvH,KAAKyH,qBAAqBzG,KAAKiB,MAAMsF,IAErCvH,KAAK0H,oB,gEAGiB,IAAD,OACzBvG,MAAM,cAAc,CAChBL,OAAO,MACPf,QAAQD,EAAUS,eAClBW,YAAa,YAEZE,MAAK,SAAAC,GAAQ,OAAIA,EAASoF,UAC1BrF,MAAK,SAAAY,GACFL,aAAaC,QAAQ,UAAWZ,KAAKC,UAAUe,IAC/C,EAAKyF,qBAAqBzF,Q,2CAITyE,GACzBzG,KAAK8G,OAASL,EAAKkB,MACnB3H,KAAK+G,UAAYN,EAAKT,SACtBhG,KAAKgH,SAAWP,EAAKmB,QACrB5H,KAAKiH,eAAiBR,EAAKR,cAC3BjG,KAAKkH,aAAeT,EAAKP,YACzBlG,KAAKmH,SAAWV,EAAKN,QACrBnG,KAAKoH,SAAWX,EAAKL,QACrBpG,KAAKqH,UAAYZ,EAAKH,SACtBtG,KAAKsH,iBAAmBb,EAAKD,mB,+BAO7B,YAHsBpG,IAAlBJ,KAAK6H,WACL7H,KAAK6H,SAAW,IAAIhB,GAEjB7G,KAAK6H,W,4BAIZ,YAA4BzH,IAAxBJ,KAAK8H,QAAQhB,OACN9G,KAAK8H,QAAQhB,OAEb,K,+BAIX,YAA+B1G,IAA3BJ,KAAK8H,QAAQf,UACN/G,KAAK8H,QAAQf,UAEb,K,8BAKX,YAA8B3G,IAA1BJ,KAAK8H,QAAQd,SACNhH,KAAK8H,QAAQd,SAEb,K,oCAIX,YAAoC5G,IAAhCJ,KAAK8H,QAAQb,eACNjH,KAAK8H,QAAQb,eAEb,K,sCAIX,YAAsC7G,IAAlCJ,KAAK8H,QAAQR,iBACNtH,KAAK8H,QAAQR,iBAEb,K,kCAIX,YAAkClH,IAA9BJ,KAAK8H,QAAQZ,aACNlH,KAAK8H,QAAQZ,aAEb,K,8BAIX,YAA8B9G,IAA1BJ,KAAK8H,QAAQX,SACNnH,KAAK8H,QAAQX,SAEb,K,8BAIX,YAA8B/G,IAA1BJ,KAAK8H,QAAQV,SACNpH,KAAK8H,QAAQV,SAEb,K,+BAIX,YAA+BhH,IAA3BJ,KAAK8H,QAAQT,UACNrH,KAAK8H,QAAQT,UAEb,O,KAjHER,EACFgB,c,uBCMbE,E,YACF,WAAYrF,GAAe,IAAD,8BACtB,4CAAMA,KACDC,MAAQ,CACTqF,aAAc,GACdF,QAASjB,EAAQiB,SAJC,E,gFAQPG,EAA4BC,EAA4BC,GACvEC,QAAQC,IAAIrI,KAAK2C,MAAMqF,gB,0CAGN,IAAD,OAChBhI,KAAKsI,oBACL/D,EAAMgE,kBAAkBnH,MAAK,SAAAoH,GACzB,EAAKrF,SAAS,CAAC6E,aAAcQ,S,mCAIxBC,GACThH,OAAO6B,SAASC,KAAO,mBAAqBkF,I,0CAG3B,IAAD,OAChB,OACIzI,KAAK2C,MAAMqF,aAAaU,KAAI,SAAC9B,GAAD,OACxB,gBAAC,IAAD,CACIxC,QAAS,eACTuE,QAAS,EAAKC,aAAa7F,KAAK,EAAM6D,EAAMpC,UAC5C,gBAAC,IAAD,KACI,gBAAC,IAAD,CAAKhB,UAAU,SACX,uCACA,0BAAKoD,EAAMhC,iBAEf,gBAAC,IAAD,KACI,gBAAC,IAAD,c,+BAQd,IAAD,OACL,OACI,gBAAC,IAAD,KACK5E,KAAK2C,MAAMqF,aAAaU,KAAI,SAAC9B,GAAD,OAC7B,gBAAC,IAAD,CACIpD,UAAU,YACVY,QAAS,eACTuE,QAAS,EAAKC,aAAa7F,KAAK,EAAM6D,EAAMpC,UAC5C,gBAAC,IAAD,KACI,gBAAC,IAAD,CAAKhB,UAAU,SACX,uCACA,0BAAKoD,EAAMhC,iBAEf,gBAAC,IAAD,KACI,gBAAC,IAAD,CACIiE,IAAKjC,EAAM/B,IACXiE,IAAK,4B,GA5DVzE,a,kCCJrB0E,E,YACF,WAAYrG,GAAe,IAAD,8BACtB,4CAAMA,KACDC,MAAQ,CACTqG,UAAU,EACVpE,eAAgB,EAAKlC,MAAMkE,MAAMhC,gBAErC,EAAKqE,cAAgB,EAAKA,cAAclG,KAAnB,gBANC,E,gFASPkF,GACXA,EAAUrB,MAAMhC,iBAAmB5E,KAAK0C,MAAMkE,MAAMhC,gBACpD5E,KAAKmD,SAAS,CAACyB,eAAgB5E,KAAK0C,MAAMkE,MAAMhC,mB,sCAIpD5E,KAAKmD,SAAS,CAAC6F,UAAU,M,+BAIzBhJ,KAAKmD,SAAS,CAAC6F,UAAU,IACzB,IAAIpC,EAAQ5G,KAAK0C,MAAMkE,MACvBA,EAAMhC,eAAiB5E,KAAK2C,MAAMiC,eAClC5E,KAAK0C,MAAMwG,YAAYtC,K,mCAGduC,GACT,IAAI7I,EAAS6I,EAAMjG,OAA4B5C,MAC/CN,KAAKmD,SAAS,CACVyB,eAAgBtE,M,+BAKpB,OACI,kBAAC,IAAKyD,QAAN,CACIqF,GAAI,QACJpF,KAAM,OACN1D,MAAON,KAAK2C,MAAMiC,eAClByE,UAAWrJ,KAAK2C,MAAMqG,SACtBA,SAAUhJ,KAAK2C,MAAMqG,SACrBC,cAAejJ,KAAKiJ,cACpBK,OAAQtJ,KAAKsJ,OAAOvG,KAAK/C,MACzBkE,SAAUlE,KAAK8C,aAAaC,KAAK/C,Y,GA3C3BqE,IAAMC,W,0CCCPiF,E,YACjB,WAAY7G,GAAe,IAAD,8BACtB,4CAAMA,KACDC,MAAQ,CACT6G,UAAU,EACV1E,MAAM,EAAKpC,MAAMkE,MAAM9B,OAJL,E,gFAQPmD,EAA4BC,EAA4BC,GACnEF,EAAUrB,MAAM9B,QAAU9E,KAAK0C,MAAMkE,MAAM9B,OAC3C9E,KAAKmD,SAAS,CACV2B,MAAO9E,KAAK0C,MAAMkE,MAAM9B,U,mCAIvBqE,GACT,IAAI7I,EAAS6I,EAAMjG,OAA4B5C,MAC/CN,KAAKmD,SAAS,CACV2B,MAAM2E,OAAOnJ,O,mCAKjB,IAAIsG,EAAQ5G,KAAK0C,MAAMkE,MACvBA,EAAM9B,MAAQ9E,KAAK2C,MAAMmC,MACzB9E,KAAK0C,MAAMwG,YAAYtC,GACvB5G,KAAKmD,SAAS,CACVqG,UAAS,M,+BAIP,IAAD,OACL,OACI,gBAACE,EAAA,EAAD,CAAWN,GAAIO,KACX,gBAAC,IAAD,CAAKC,GAAI,QACL,gBAAC,IAAK/F,MAAN,CAAYC,QAAQ,EAAM+F,GAAI,GAA9B,UAEJ,gBAAC,IAAD,KACI,gBAACC,EAAA,EAAD,CACIV,GAAI,QACJpF,KAAM,SACNqF,WAAW,EACXL,SAAUhJ,KAAK2C,MAAM6G,SACrBlJ,MAAON,KAAK2C,MAAMmC,MAAMiF,WACxBd,cAAe,kBAAM,EAAK9F,SAAS,CAACqG,UAAU,KAC9CF,OAAQtJ,KAAKgK,WAAWjH,KAAK/C,MAC7BkE,SAAUlE,KAAK8C,aAAaC,KAAK/C,c,GA/CnBqE,a,iBCAjB4F,E,YACjB,WAAYvH,GAAe,IAAD,8BACtB,4CAAMA,KACDC,MAAQ,CACT8C,gBAAgB,EAAK/C,MAAMkE,MAAMnB,gBACjC+D,UAAU,GAJQ,E,gFAQPvB,EAA4BC,EAA4BC,GACnEF,EAAUrB,MAAMnB,kBAAoBzF,KAAK0C,MAAMkE,MAAMnB,iBACrDzF,KAAKmD,SAAS,CACVsC,gBAAiBzF,KAAK0C,MAAMkE,MAAMnB,oB,0CAK1CzF,KAAKmD,SAAS,CACVqG,UAAS,M,mCAKb,IAAIU,EAAWlK,KAAK0C,MAAMkE,MAC1BsD,EAASzE,gBAAkBzF,KAAK2C,MAAM8C,gBACtCzF,KAAK0C,MAAMwG,YAAYgB,GACvBlK,KAAKmD,SAAS,CACVqG,UAAS,M,mCAIJL,GACT,IAAI7I,EAAS6I,EAAMjG,OAA4B5C,MAC/CN,KAAKmD,SAAS,CACVsC,gBAAgBgE,OAAOnJ,O,+BAK3B,OACI,kBAACoJ,EAAA,EAAD,CAAWN,GAAIO,KACX,kBAAC,IAAK9F,MAAN,CAAYC,QAAQ,EAAM+F,GAAI,GAA9B,SACA,kBAAC,IAAD,KACI,kBAAC,IAAD,CACIT,GAAI,QACJpF,KAAM,SACN1D,MAAON,KAAK2C,MAAM8C,gBAAgBsE,WAClCf,SAAUhJ,KAAK2C,MAAM6G,SACrBH,UAAWrJ,KAAK2C,MAAM6G,SACtBP,cAAejJ,KAAKmK,kBAAkBpH,KAAK/C,MAC3CsJ,OAAQtJ,KAAKgK,WAAWjH,KAAK/C,MAC7BkE,SAAUlE,KAAK8C,aAAaC,KAAK/C,c,GAnDZqE,IAAMC,WCF9B8F,E,YACjB,WAAY1H,GAAe,IAAD,8BACtB,4CAAMA,KACDC,MAAQ,CACT+C,cAAe,EAAKhD,MAAMkE,MAAMlB,cAChC8D,UAAU,GAJQ,E,gFAQPvB,EAA4BC,EAA4BC,GACnEF,EAAUrB,MAAMlB,gBAAkB1F,KAAK0C,MAAMkE,MAAMlB,eACnD1F,KAAKmD,SAAS,CACVuC,cAAe1F,KAAK0C,MAAMkE,MAAMlB,kB,qCAI7ByD,GACX,IAAI7I,EAAS6I,EAAMjG,OAA4B5C,MAC/CN,KAAKmD,SAAS,CACVuC,cAAe+D,OAAOnJ,O,qCAQ1B,GAHAN,KAAKmD,SAAS,CACVqG,UAAU,IAEVxJ,KAAK2C,MAAM+C,gBAAkB1F,KAAK0C,MAAMkE,MAAMlB,cAAe,CAC7D,IAAIkB,EAAQ5G,KAAK0C,MAAMkE,MACvBA,EAAMlB,cAAgB1F,KAAK2C,MAAM+C,cACjC1F,KAAK0C,MAAMwG,YAAYtC,M,+BAIrB,IAAD,OACL,OACI,kBAAC8C,EAAA,EAAD,CAAWN,GAAIO,KACX,kBAAC,IAAK9F,MAAN,CAAYC,QAAQ,EAAM+F,GAAI,GAA9B,OACA,kBAAC,IAAD,KACI,kBAAC,IAAD,CACIT,GAAI,QACJpF,KAAM,SACN1D,MAAON,KAAK2C,MAAM+C,cAAcqE,WAChCf,SAAUhJ,KAAK2C,MAAM6G,SACrBH,UAAWrJ,KAAK2C,MAAM6G,SACtBP,cAAe,kBAAM,EAAK9F,SAAS,CAAEqG,UAAU,KAC/CtF,SAAUlE,KAAKqK,eAAetH,KAAK/C,MACnCsJ,OAAQtJ,KAAKsK,aAAavH,KAAK/C,c,GA/CXqE,IAAMC,W,iFCA7BiG,G,iLAGb,IAAMC,EAAaxK,KAAK0C,MAAM8H,WAC9B,OACI,kBAAC,KAAD,KACI,kBAAC,IAAD,KACKA,EAAWC,qB,GAPWpG,IAAMC,WCF5BoG,G,+KAEVC,EAA4BC,GAC/B,IAAIC,EAAQ7K,KAAK8K,UAAUH,EAAgB3K,KAAK0C,MAAMwD,aAChDA,EAAclG,KAAK0C,MAAMwD,YAAYwC,KAAI,SAACpI,EAAOyK,GACnD,OAAGA,IAAeF,EACPD,EAEAtK,KAEf,OAAON,KAAK0C,MAAMsI,kBAAmB9E,K,0BAGrC0E,GACA,OAAO5K,KAAK0C,MAAMsI,kBAAmBhL,KAAK0C,MAAMwD,YAAY+E,OAAOL,M,6BAGhEJ,GACH,OAAOxK,KAAK0C,MAAMsI,kBAAmBhL,KAAK0C,MAAMwD,YAAYgF,QAAO,SAAA5K,GAAK,OAAIA,EAAM6K,eAAiBX,EAAWW,mB,gCAGxGX,EAAwBtE,GAC9B,OAAOA,EAAY4E,WAAU,SAAAM,GAAO,OAChCA,EAAQD,eAAiBX,EAAWW,kB,+BAGlC,IAAD,OACL,OACI,kBAACE,GAAA,EAAIC,UAAL,CACI7C,GAAI,0BAEJ,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAKmB,GAAI,GACL,kBAAC2B,EAAA,EAAD,CAAK/H,UAAU,eACVxD,KAAK0C,MAAMwD,YAAYwC,KAAI,SAAC8B,EAAYK,GACrC,OACI,kBAACW,EAAA,EAAD,CACIC,IAAKZ,GAEL,kBAACU,EAAA,EAAIG,KAAL,CACIC,SAAUd,GAETL,EAAWoB,sBAQpC,kBAAC,IAAD,KACI,kBAACC,EAAA,EAAD,KACK7L,KAAK0C,MAAMwD,YAAYwC,KAAI,SAAC8B,EAAYK,GACrC,OACI,kBAACiB,GAAA,EAAD,CACIL,IAAKZ,EACLc,SAAUd,GAEV,kBAAC,GAAD,CACIkB,OAAQ,EAAKA,OAAOhJ,KAAK,GACzBM,IAAK,EAAKA,IAAIN,KAAK,GACnBvC,OAAQ,EAAKA,OAAOuC,KAAK,GACzByH,WAAYA,gB,GA9DZnG,IAAMC,W,0DCM7B0H,G,YACjB,WAAYtJ,GAAe,IAAD,8BACtB,4CAAMA,KACDC,MAAQ,CACToD,KAAM,EAAKrD,MAAMqD,KACjBkG,MAAM,GAJY,E,0EAQb9C,GACT,IAAI7I,EAAS6I,EAAMjG,OAA2B5C,MAC1C4L,EAAUrF,EAAQc,MAAMwE,MAAK,SAAApG,GAAI,OAAIA,EAAKtB,OAAQsF,aAAezJ,KACjE4L,EACAlM,KAAKmD,SAAS,CACV4C,KAAMmG,IAGVE,MAAM,0B,qCAKVpM,KAAK0C,MAAM2J,WAAWrM,KAAK2C,MAAMoD,MACjC/F,KAAKsM,iB,qCAILtM,KAAKmD,SAAS,CAAC8I,MAAM,M,sCAIrBjM,KAAKmD,SAAS,CACV8I,MAAM,EACNlG,KAAM/F,KAAK0C,MAAMqD,S,+BAKrB,OACI,6BACI,kBAAC,KAAD,CACI3B,QAAS,QACTmI,OAAO,EACP5D,QAAS3I,KAAKwM,cAAczJ,KAAK/C,OAEhCA,KAAK0C,MAAMqD,KAAK0G,UAErB,kBAACC,GAAA,EAAD,CACIT,KAAMjM,KAAK2C,MAAMsJ,KACjBU,OAAQ3M,KAAKsM,aAAavJ,KAAK/C,OAE/B,kBAAC0M,GAAA,EAAME,OAAP,CAAcC,aAAW,GACrB,kBAAC,IAAK9I,QAAN,CACIzD,MAAON,KAAK2C,MAAMoD,KAAKtB,OAASzE,KAAK2C,MAAMoD,KAAKtB,OAAOsF,WAAa,IACpEX,GAAI,SACJlF,SAAUlE,KAAK8C,aAAaC,KAAK/C,OAEhC6G,EAAQc,MAAMe,KAAI,SAAC3C,EAAM8E,GAAP,OACf,4BACIY,IAAKZ,EACLvK,MAAOyF,EAAKtB,QACdsB,EAAK0G,eAInB,kBAACK,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAMC,iBAAkB,WAAYvE,GAAI,YACnCzI,KAAKiN,UACLjN,KAAKkN,eACLlN,KAAKmN,aACLnN,KAAKoN,gBAGd,kBAACC,GAAA,EAAD,KACI,kBAAC,KAAD,CAAQ1E,QAAS3I,KAAKsN,aAAavK,KAAK/C,OAAxC,a,gCAShB,OACI,kBAACqL,GAAA,EAAD,CACIM,SAAU,WACV4B,MAAO,mBAEP,kBAAC,IAAD,KACI,kBAAC,IAAD,kBACevN,KAAK2C,MAAMoD,KAAKyH,cAE/B,kBAAC,IAAD,qBACkBxN,KAAK2C,MAAMoD,KAAK0H,kBAGtC,kBAAC,IAAD,KACI,kBAAC,IAAD,wBAEKzN,KAAK2C,MAAMoD,KAAK2H,c,mCAQjC,GAAI1N,KAAK2C,MAAMoD,KAAK4H,YAChB,OACI,kBAACtC,GAAA,EAAD,CAAKkC,MAAO,UAAW5B,SAAU,eAC7B,kBAAC,IAAD,KACI,kBAAC,IAAD,KACK3L,KAAK2C,MAAMoD,KAAK4H,iB,oCASrC,OAAI3N,KAAK2C,MAAMoD,KAAK6H,aAEZ,kBAACvC,GAAA,EAAD,CAAKkC,MAAO,cAAY5B,SAAU,gBAC9B,kBAAC,IAAD,KACI,kBAAC,IAAD,KACK3L,KAAK2C,MAAMoD,KAAK6H,gBAO7B,kBAACvC,GAAA,EAAD,CAAKkC,MAAO,cAAYM,UAAU,M,qCAM1C,OACI,kBAACxC,GAAA,EAAD,CAAKkC,MAAO,YAAa5B,SAAU,iBAC/B,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAACmC,GAAA,EAAD,KACI,+BACA,4BACI,sCACA,4BAAK9N,KAAK2C,MAAMoD,KAAKgI,SAEzB,4BACI,qCACA,4BAAK/N,KAAK2C,MAAMoD,KAAKiI,QAEzB,4BACI,mCACA,4BAAKhO,KAAK2C,MAAMoD,KAAKkI,YAEzB,4BACI,mCACA,4BAAKjO,KAAK2C,MAAMoD,KAAKmI,mBAEzB,4BACI,mCACA,4BAAKlO,KAAK2C,MAAMoD,KAAKoI,gBAEzB,4BACI,mCACA,4BAAKnO,KAAK2C,MAAMoD,KAAKqI,eAEzB,4BACI,mCACA,4BAAKpO,KAAK2C,MAAMoD,KAAKsI,mBAEzB,4BACI,mCACA,4BAAKrO,KAAK2C,MAAMoD,KAAKuI,gBAEzB,4BACI,mCACA,4BAAKtO,KAAK2C,MAAMoD,KAAKwI,uB,GAnLhBlK,IAAMC,WCKtBkK,G,YACjB,WAAY9L,GAAe,IAAD,8BACtB,4CAAMA,KACDC,MAAQ,CACT8L,QAAS,EAAK/L,MAAM+L,QACpBC,WAAW,GAJO,E,gFAQPzG,IACVA,EAAUgE,MAAQjM,KAAK0C,MAAMuJ,MAC9BjM,KAAKmD,SAAS,CACVsL,QAASzO,KAAK0C,MAAM+L,Y,sCAKf,IAAD,OACZzO,KAAKmD,SAAS,CAACuL,WAAW,IAC1BC,YAAW,kBAAM,EAAKxL,SAAS,CAACuL,WAAW,MAAS,O,mCAI3CvF,GACT,IAAM7I,EAAS6I,EAAMjG,OAA6B5C,MAC9CsO,EAAa/H,EAAQb,SAASmG,MAAK,SAAAsC,GAAO,OAAIA,EAAQI,YAAcpF,OAAOnJ,WAC5DF,IAAfwO,EACA5O,KAAKmD,SAAS,CACVsL,QAASG,EACTF,WAAW,IAGftC,MAAM,0B,+BAIJ,IAAD,OACL,OACI,gBAAC,IAAD,KACI,gBAACM,GAAA,EAAD,CACIT,KAAMjM,KAAK0C,MAAMuJ,KACjBU,OAAQ,kBAAM,EAAKjK,MAAMoM,eAEzB,gBAACpC,GAAA,EAAME,OAAP,CAAcC,aAAW,GACrB,gBAAC/C,EAAA,EAAD,CACIxJ,MAAON,KAAK2C,MAAM8L,QAAQI,UAAU9E,WACpC7F,SAAUlE,KAAK8C,aAAaC,KAAK/C,MACjCoJ,GAAI,SACJsF,UAAW1O,KAAK2C,MAAM+L,WAErB7H,EAAQb,SAAS0C,KAAI,SAAC+F,EAAS5D,GAAV,OAClB,0BACIvK,MAAOmO,EAAQI,UAAU9E,WACzB0B,IAAKZ,GAEJ4D,EAAQM,kBAKzB,gBAACjC,GAAA,EAAD,KACI,gBAACC,GAAA,EAAD,CAAMC,iBAAkB,cAAevE,GAAI,eAEtCzI,KAAKiN,YAGd,gBAACI,GAAA,EAAD,KACKrN,KAAKgP,oB,qCAOV,IAAD,OACPC,EAAS,GAgCb,YA/BuB7O,IAAnBJ,KAAK0C,MAAMW,KACX4L,EAAOC,KACH,gBAAC,KAAD,CACIvG,QAAS,WACL,EAAKjG,MAAMW,IAAK,EAAKV,MAAM8L,SACvB,EAAK/L,MAAMoM,aAAe,EAAKK,iBAEvC1D,IAAK,KALT,aASkBrL,IAAtBJ,KAAK0C,MAAMqJ,QACXkD,EAAOC,KACH,gBAAC,KAAD,CACIvG,QAAS,WACL,EAAKjG,MAAMqJ,OAAQ,EAAKpJ,MAAM8L,QAAS,EAAK/L,MAAM+L,SAC9C,EAAK/L,MAAMoM,aAAe,EAAKK,iBAEvC1D,IAAK,KALT,gBASkBrL,IAAtBJ,KAAK0C,MAAMlC,QACXyO,EAAOC,KACH,gBAAC,KAAD,CACIvG,QAAS,kBAAM,EAAKjG,MAAMlC,OAAQ,EAAKmC,MAAM8L,SACzC,EAAK/L,MAAMoM,aAAe,EAAKK,iBACnC1D,IAAK,KAHT,WAODwD,I,gCAIP,OACI,gBAAC5D,GAAA,EAAD,CACIM,SAAU,cACV4B,MAAO,mBAENvN,KAAK2C,MAAM8L,QAAQW,iB,GApHK/K,aCLpBmK,G,YAEjB,WAAY9L,GAAe,IAAD,8BACtB,4CAAMA,KACDC,MAAQ,CACT0M,UAAU,EACVC,MAAO,IAJW,E,4EAQXV,EAAqBW,GAChC,IAAIvJ,EAAWhG,KAAK0C,MAAMsD,SACtB6E,EAAQ7K,KAAK8K,UAAUyE,EAAavP,KAAK0C,MAAMsD,UACnD,OAAe,IAAX6E,IACA7E,EAAS6E,GAAS+D,EACX5O,KAAK0C,MAAM8M,eAAexJ,M,iCAM9B4I,GACP,IAAI5I,EAAWhG,KAAK0C,MAAMsD,SAE1B,OAAe,IADHhG,KAAK8K,UAAU8D,EAAY5I,KAEnCA,EAASkJ,KAAKN,GACP5O,KAAK0C,MAAM8M,eAAexJ,M,oCAM3ByI,GACV,IAAIzI,EAAWhG,KAAK0C,MAAMsD,SACtB6E,EAAQ7K,KAAK8K,UAAU2D,EAASzI,GACpC,OAAe,IAAX6E,IACA7E,EAASyJ,OAAO5E,EAAO,GAChB7K,KAAK0C,MAAM8M,eAAexJ,M,gCAK/ByI,EAAkBzI,GACxB,OAAOA,EAAS8E,WAAU,SAAAM,GAAO,OAC7BA,EAAQyD,YAAcJ,EAAQI,e,iCAG3BhE,QACOzK,IAAVyK,EACA7K,KAAKmD,UAAS,SAAAR,GAEV,OADAA,EAAM2M,MAAMzE,IAAS,EACd,CAACyE,MAAO3M,EAAM2M,UAGzBtP,KAAKmD,SAAS,CAACkM,UAAU,M,iCAKtBxE,QACOzK,IAAVyK,EACA7K,KAAKmD,UAAS,SAAAR,GAEV,OADAA,EAAM2M,MAAMzE,IAAS,EACd,CAACyE,MAAO3M,EAAM2M,UAGzBtP,KAAKmD,SAAS,CAACkM,UAAU,M,+BAIvB,IAAD,OACCrJ,EAAWhG,KAAK0C,MAAMsD,SAC5B,OACI,gBAAC,KAAD,KACI,gBAAC,IAAD,gBAEKhG,KAAK0P,mBACL1J,EAAS0C,KAAI,SAAC+F,EAAS5D,GACpB,OACI,gBAAC,IAAD,CACIY,IAAKZ,GAEL,gBAAC,IAAD,CAAKpH,GAAI,GACL,gBAAC,KAAD,CACIW,QAAS,QACTmI,OAAK,EACL5D,QAAS,kBAAM,EAAKgH,WAAW9E,KAE9B4D,EAAQM,cAGjB,gBAAC,IAAD,CAAKa,MAAO,CAACC,YAAa,EAAGC,aAAc,IACvC,gBAAC,GAAD,CACIrB,QAASA,EACTxC,KAAM,EAAKtJ,MAAM2M,MAAMzE,GACvBxH,IAAK,EAAK0M,WAAWhN,KAAK,GAC1BgJ,OAAQ,EAAKyD,eAAezM,KAAK,GACjCvC,OAAQ,EAAKwP,cAAcjN,KAAK,GAChC+L,WAAY,kBAAM,EAAKA,WAAWjE,MAEtC,gBAAC,KAAD,CACIoF,KAAM,KAAM7L,QAAQ,iBACpBuE,QAAS,kBAAM,EAAKqH,cAAcvB,KAFtC,mB,yCAcZ,IAAD,OACf,GAAmC,IAA/BzO,KAAK0C,MAAMsD,SAASkK,OACpB,OACI,gBAAC,IAAD,KACI,gBAAC,KAAD,CACI9L,QAAS,QACTmI,OAAK,EACL5D,QAAS,kBAAM,EAAKgH,eAHxB,gBAKA,gBAAC,GAAD,CACIlB,QAAS5H,EAAQb,SAAS,GAC1B3C,IAAKrD,KAAK+P,WAAWhN,KAAK/C,MAC1BiM,KAAMjM,KAAK2C,MAAM0M,SACjBP,WAAY,kBAAM,EAAKA,qB,GA/HNzK,aCMpB8L,G,YACjB,WAAYzN,GAAe,IAAD,8BACtB,4CAAMA,KACDC,MAAQ,CACTyN,aAAc,EAAK1N,MAAM0N,aACzB9P,MAAO,EAAKoC,MAAM0N,aAAaC,eAAetG,WAC9C2E,WAAW,GALO,E,0EASbvF,GACT,IAAI7I,EAAS6I,EAAMjG,OAA2B5C,MAC1C8P,EAAevJ,EAAQZ,cAAckG,MAAK,SAAAiE,GAAY,OAAIA,EAAaC,iBAAmB5G,OAAOnJ,WAChFF,IAAjBgQ,EACApQ,KAAKmD,SAAS,CACViN,aAAcA,EACd9P,MAAOA,EACPoO,WAAW,IAGftC,MAAM,0B,yCAGKnE,EAA4BC,EAA4BC,IAClEF,EAAUgE,MAAQjM,KAAK0C,MAAMuJ,MAC9BjM,KAAKmD,SAAS,CACV7C,MAAON,KAAK0C,MAAM0N,aAAaC,eAAetG,WAC9CqG,aAAcpQ,KAAK0C,MAAM0N,iB,sCAKpB,IAAD,OACZpQ,KAAKmD,SAAS,CAACuL,WAAW,IAC1BC,YAAW,kBAAM,EAAKxL,SAAS,CAACuL,WAAW,MAAS,O,+BAG9C,IAAD,OACL,OACI,6BACI,kBAAChC,GAAA,EAAD,CACIT,KAAMjM,KAAK0C,MAAMuJ,KACjBU,OAAQ,kBAAM,EAAKjK,MAAMoM,eAEzB,kBAACpC,GAAA,EAAME,OAAP,CAAcC,aAAW,GACrB,kBAAC/C,EAAA,EAAD,CACIxJ,MAAON,KAAK2C,MAAMrC,MAClB4D,SAAUlE,KAAK8C,aAAaC,KAAK/C,MACjCoJ,GAAI,SACJC,WAAW,EACXqF,UAAW1O,KAAK2C,MAAM+L,WAErB7H,EAAQZ,cAAcyC,KAAI,SAAC0H,EAAcvF,GAAf,OACvB,4BACIvK,MAAO8P,EAAaC,eAAetG,WACnC0B,IAAKZ,GAEJuF,EAAaE,uBAK9B,kBAACxD,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAMC,iBAAkB,mBAAoBvE,GAAI,4BAC3CzI,KAAKiN,UACLjN,KAAKuQ,gBACLvQ,KAAKwQ,eAGd,kBAACnD,GAAA,EAAD,KACKrN,KAAKgP,oB,qCAOV,IAAD,OACPC,EAAS,GAgCb,YA/BuB7O,IAAnBJ,KAAK0C,MAAMW,KACX4L,EAAOC,KACH,kBAAC,KAAD,CACIvG,QAAS,WACL,EAAKjG,MAAMW,IAAK,EAAKV,MAAMyN,cACvB,EAAK1N,MAAMoM,aAAe,EAAKK,iBAEvC1D,IAAK,KALT,aASkBrL,IAAtBJ,KAAK0C,MAAMqJ,QACXkD,EAAOC,KACH,kBAAC,KAAD,CACIvG,QAAS,WACL,EAAKjG,MAAMqJ,OAAQ,EAAKpJ,MAAMyN,aAAc,EAAK1N,MAAM0N,cACnD,EAAK1N,MAAMoM,aAAe,EAAKK,iBAEvC1D,IAAK,KALT,gBASkBrL,IAAtBJ,KAAK0C,MAAMlC,QACXyO,EAAOC,KACH,kBAAC,KAAD,CACIvG,QAAS,kBAAM,EAAKjG,MAAMlC,OAAQ,EAAKmC,MAAMyN,cACzC,EAAK1N,MAAMoM,aAAe,EAAKK,iBACnC1D,IAAK,KAHT,WAODwD,I,gCAIP,OAAIjP,KAAK2C,MAAMyN,aAEP,kBAAC/E,GAAA,EAAD,CAAKM,SAAU,mBAAoB4B,MAAO,mBACtC,kBAAC,IAAD,KACI,kBAAC,IAAD,KACKvN,KAAK2C,MAAMyN,aAAaK,oBAOrC,kBAACpF,GAAA,EAAD,CAAKM,SAAU,mBAAoB4B,MAAO,kBAAaM,UAAU,GAAjE,W,sCAOR,OAAI7N,KAAK2C,MAAMyN,cAAgBpQ,KAAK2C,MAAMyN,aAAalK,YAAYgK,OAAS,EAEpE,kBAAC7E,GAAA,EAAD,CAAKM,SAAU,cAAe4B,MAAO,eACjC,kBAAC,IAAD,KACKvN,KAAK2C,MAAMyN,aAAalK,YAAYwC,KAAI,SAAC8B,EAAYK,GAClD,OACI,kBAAC,IAAD,CAAKY,IAAKZ,GACN,kBAAC,IAAD,KACKL,EAAWoB,gBAEhB,kBAAC,IAAD,KACKpB,EAAWC,sBAUpC,kBAACY,GAAA,EAAD,CAAKM,SAAU,cAAe4B,MAAO,cAAeM,UAAU,GAA9D,W,mCAKR,OAAI7N,KAAK2C,MAAMyN,cAAgBpQ,KAAK2C,MAAMyN,aAAajK,QAAQ+J,OAAS,EAEhE,kBAAC7E,GAAA,EAAD,CAAKM,SAAU,UAAW4B,MAAO,WAC7B,kBAACO,GAAA,EAAD,KACI,+BACA,4BACI,oCACA,4CAGJ,+BACC9N,KAAK2C,MAAMyN,aAAajK,QAAQuC,KAAI,SAACgI,EAAQ7F,GAC1C,OACI,wBAAIY,IAAKZ,GACL,4BAAK6F,EAAOC,YACZ,4BAAKD,EAAOE,uBAUhC,kBAACvF,GAAA,EAAD,CAAKM,SAAU,UAAW4B,MAAO,UAAWM,UAAU,GAAtD,a,GAxL6BxJ,IAAMC,WCN9BuM,I,mBACjB,WAAYnO,GAAe,IAAD,8BACtB,4CAAMA,KACDC,MAAQ,CACTsJ,KAAM,GACNoD,UAAU,GAJQ,E,gFAQPyB,EAA+BC,GAC9C,IAAI9K,EAAgBjG,KAAK0C,MAAMuD,cAC3B4E,EAAQ7K,KAAK8K,UAAUiG,EAAkB9K,GAC7C,OAAe,IAAX4E,IACA5E,EAAc4E,GAASiG,EAChB9Q,KAAK0C,MAAMsO,oBAAoB/K,M,sCAM9B6K,GACZ,IAAI7K,EAAgBjG,KAAK0C,MAAMuD,cAE/B,OAAe,IADHjG,KAAK8K,UAAUgG,EAAiB9Q,KAAK0C,MAAMuD,iBAEnDA,EAAciJ,KAAK4B,GACZ9Q,KAAK0C,MAAMsO,oBAAoB/K,M,yCAM3BmK,GACf,IAAInK,EAAgBjG,KAAK0C,MAAMuD,cAC3B4E,EAAQ7K,KAAK8K,UAAUsF,EAAcnK,GACzC,OAAe,IAAX4E,IACA5E,EAAcwJ,OAAO5E,EAAO,GACrB7K,KAAK0C,MAAMsO,oBAAoB/K,M,gCAMpCmK,EAA4BnK,GAClC,OAAOA,EAAc6E,WAAU,SAAAM,GAAO,OAClCA,EAAQiF,iBAAmBD,EAAaC,oB,iCAGrCxF,QACOzK,IAAVyK,EACA7K,KAAKmD,UAAS,SAAAR,GAEV,OADAA,EAAMsJ,KAAKpB,IAAS,EACb,CAAEoB,KAAMtJ,EAAMsJ,SAGzBjM,KAAKmD,SAAS,CAAEkM,UAAU,M,iCAKvBxE,QACOzK,IAAVyK,EACA7K,KAAKmD,UAAS,SAAAR,GAEV,OADAA,EAAMsJ,KAAKpB,IAAS,EACb,CAAEoB,KAAMtJ,EAAMsJ,SAGzBjM,KAAKmD,SAAS,CAAEkM,UAAU,M,+BAIxB,IAAD,OACCpJ,EAAgBjG,KAAK0C,MAAMuD,cACjC,OACI,kBAAC,KAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAKpC,MAAN,CAAYC,QAAQ,GAApB,kBAIJ,kBAAC,IAAD,KACI,kBAAC,KAAD,CACImM,KAAM,KACN7L,QAAS,eACTuE,QAAS,kBAAM,EAAKgH,eAHxB,KAKA,kBAAC,GAAD,CACIS,aAAcvJ,EAAQZ,cAAc,GACpC5C,IAAKrD,KAAKiR,gBAAgBlO,KAAK/C,MAC/BiM,KAAMjM,KAAK2C,MAAM0M,SACjBP,WAAY,kBAAM,EAAKA,kBAIlC7I,EAAcyC,KAAI,SAAC0H,EAAcvF,GAC9B,OACI,kBAAC,IAAD,CAAKY,IAAKZ,GACN,kBAAC,IAAD,CAAKpH,GAAI,GACL,kBAAC,KAAD,CACIW,QAAS,QACTmI,OAAK,EACL5D,QAAS,kBAAM,EAAKgH,WAAW9E,KAE9BuF,EAAaE,mBAGtB,kBAAC,IAAD,CAAK7M,GAAI,QACL,kBAAC,GAAD,CACI2M,aAAcA,EACdnE,KAAM,EAAKtJ,MAAMsJ,KAAKpB,GACtBkB,OAAQ,EAAKmF,mBAAmBnO,KAAK,GACrCM,IAAK,EAAK4N,gBAAgBlO,KAAK,GAC/BvC,OAAQ,EAAK2Q,mBAAmBpO,KAAK,GACrC+L,WAAY,kBAAM,EAAKA,WAAWjE,OAG1C,kBAAC,IAAD,CAAKpH,IAAE,EAACmM,MAAO,CAAEC,YAAa,EAAGC,aAAc,IAC3C,kBAAC,KAAD,CACIG,KAAM,KAAM7L,QAAQ,iBACpBuE,QAAS,kBAAM,EAAKwI,mBAAmBf,KAF3C,oB,GArHc/L,IAAMC,Y,oBCJ/B8M,G,YACjB,WAAY1O,GAAc,IAAD,8BACrB,4CAAMA,KACDC,MAAQ,CACTiE,MAAMyK,OAAOC,OAAO,GAAI,EAAK5O,MAAMkE,OACnC4C,SAAS,IAJQ,E,sEASrB,IAAM5C,EAAQ5G,KAAK0C,MAAMkE,MACzB,OACI,gBAAC,KAAD,CAAO2K,OAAO,EAAMtB,KAAM,KAAMuB,SAAO,GACnC,6BACA,sBAAIhO,UAAU,cACV,uCACA,qCACA,yCACA,qCAGJ,6BACA,0BACI,iCACA,0BAAKoD,EAAMb,KAAKkI,WAChB,0BACI,gBAACnE,EAAA,EAAD,CACIV,GAAI,QACJC,WAAW,EACXL,UAAU,EACV1I,MAAOsG,EAAM1B,UAAU6E,WACvB/F,KAAM,YAGd,0BACK4C,EAAM1B,gBAAsC9E,IAAzBwG,EAAMb,KAAKkI,UAA0BrH,EAAMb,KAAKkI,UAAY,KAGxF,0BACI,iCACA,0BAAKrH,EAAMb,KAAKmI,kBAChB,0BACKtH,EAAMzB,kBAEX,0BACKyB,EAAMzB,uBAAoD/E,IAAhCwG,EAAMb,KAAKmI,iBAAiCtH,EAAMb,KAAKmI,iBAAmB,KAG7G,0BACI,iCACA,0BAAKtH,EAAMb,KAAKoI,eAChB,0BACKvH,EAAMxB,eAEX,0BACKwB,EAAM1B,gBAAsC9E,IAAzBwG,EAAMb,KAAKkI,UAA0BrH,EAAMb,KAAKkI,UAAY,KAGxF,0BACI,iCACA,0BAAKrH,EAAMb,KAAKqI,cAChB,0BACKxH,EAAMvB,cAEX,0BACKuB,EAAMxB,oBAA8ChF,IAA7BwG,EAAMb,KAAKoI,cAA8BvH,EAAMb,KAAKoI,cAAgB,KAGpG,0BACI,iCACA,0BAAKvH,EAAMb,KAAKsI,kBAChB,0BACKzH,EAAMtB,kBAEX,0BACKsB,EAAMtB,uBAAoDlF,IAAhCwG,EAAMb,KAAKsI,iBAAiCzH,EAAMb,KAAKsI,iBAAmB,KAG7G,0BACI,iCACA,0BAAKzH,EAAMb,KAAKuI,eAChB,0BACK1H,EAAMrB,eAEX,0BACKqB,EAAMrB,oBAA8CnF,IAA7BwG,EAAMb,KAAKuI,cAA8B1H,EAAMb,KAAKuI,cAAgB,KAGpG,0BACI,iCACA,0BAAK1H,EAAMb,KAAKwI,aAChB,0BACK3H,EAAMpB,aAEX,0BACKoB,EAAMpB,kBAA0CpF,IAA3BwG,EAAMb,KAAKwI,YAA4B3H,EAAMb,KAAKwI,YAAc,W,GA/F5DlK,aCE7BoN,G,YACjB,WAAY/O,GAAe,IAAD,8BACtB,4CAAMA,KACDC,MAAQ,CACTwD,QAAS,EAAKzD,MAAMyD,SAHF,E,gFAOP8B,GACXjH,KAAKC,UAAUgH,EAAU9B,WAAanF,KAAKC,UAAUjB,KAAK0C,MAAMyD,UAChEnG,KAAKmD,SAAS,CAAEgD,QAASnG,KAAK0C,MAAMyD,Y,+BAIlC,IAAD,OACCA,EAAUnG,KAAK0C,MAAMyD,QAC3B,OACI,gBAAC,KAAD,CAAOoL,OAAO,EAAMtB,KAAM,MACtB,yBAAOzM,UAAU,cACb,0BACI,oCACA,wCACA,oDAGR,6BACK2C,EAAQuC,KAAI,SAAAgI,GACT,IAAIgB,EAAU,GAMd,YALiCtR,GAA9B,EAAKsC,MAAM8D,sBAA0DpG,GAA1BsQ,EAAOlK,iBACjD,EAAK9D,MAAM8D,gBAAgB0E,QAAO,SAAC5K,GAAD,OAASoQ,EAAOlK,gBAAiBmL,MAAK,SAACC,GAAD,OAAetR,EAAMuR,mBAAqBD,EAAYC,uBAAmBC,SAAQ,SAAAC,GACrJL,GAA6B,KAAdA,EAAiBK,EAAeC,mBAAoB,KAAOD,EAAeC,sBAG1F,sBAAIvG,IAAKiF,EAAOuB,UACnB,0BAAKvB,EAAOC,YACZ,0BAAKD,EAAOE,gBACZ,0BAAKc,GAAoB,c,GApCbrN,aCQnB6N,G,4LAEGjM,GAEhB,OADAjG,KAAK0C,MAAMwG,YAAYmI,OAAOC,OAAO,IAAI/M,EAAMvE,KAAK0C,MAAMkE,MAAMpC,SAAUxE,KAAK0C,MAAMkE,MAAO,CAACX,cAAcA,MACpG,I,qCAGID,GAEX,OADAhG,KAAK0C,MAAMwG,YAAYmI,OAAOC,OAAO,IAAI/M,EAAMvE,KAAK0C,MAAMkE,MAAMpC,SAAUxE,KAAK0C,MAAMkE,MAAO,CAACZ,SAASA,MAC/F,I,iCAGAD,GAEP,OADA/F,KAAK0C,MAAMwG,YAAYmI,OAAOC,OAAO,IAAI/M,EAAMvE,KAAK0C,MAAMkE,MAAMpC,SAASxE,KAAK0C,MAAMkE,MAAM,CAACb,KAAKA,EAAMtB,OAAOsB,EAAKtB,WAC3G,I,oCAGG0B,GAEV,OADAnG,KAAK0C,MAAMwG,YAAYmI,OAAOC,OAAO,IAAI/M,EAAMvE,KAAK0C,MAAMkE,MAAMpC,SAAUxE,KAAK0C,MAAMkE,MAAO,CAACuL,SAAShM,MAC/F,I,+BAIP,IAAMS,EAAQ5G,KAAK0C,MAAMkE,MACzB,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAKnD,GAAI,GACL,kBAAC,IAAD,KACI,kBAAC,IAAD,eAEI,kBAAC,GAAD,CACI4I,WAAYrM,KAAKqM,WAAWtJ,KAAK/C,MACjC+F,KAAMa,EAAMb,QAGpB,kBAAC,IAAD,KACI,kBAAC,GAAD,CACIyJ,eAAgBxP,KAAKwP,eAAezM,KAAK/C,MACzCgG,SAAUY,EAAMZ,aAI5B,kBAAC,IAAD,KACI,kBAAC,GAAD,CACIC,cAAeW,EAAMX,cACrB+K,oBAAqBhR,KAAKgR,oBAAoBjO,KAAK/C,UAI/D,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,GAAD,CACI4G,MAAOA,KAGf,kBAAC,IAAD,KACI,kBAAC,GAAD,CACIT,QAASS,EAAMT,QACfiM,cAAepS,KAAKoS,cAAcrP,KAAK/C,MACvCwG,gBAAiBI,EAAMJ,yB,GA3DbnC,IAAMC,WCZvB+N,I,mBACjB,WAAY3P,GAAa,IAAD,8BACpB,4CAAMA,KAGV4P,GAAK,IAAIC,UAAU,8BAFf,EAAK5P,MAAQ,CAAC6P,aAAa,EAAK9P,MAAMkE,OAFlB,E,iFAMJ,IAAD,OACT6L,EAAI,CAAClR,KAAK,QAAQmR,OAAO,SAAUrQ,QAAQ,QACjDrC,KAAKsS,GAAGK,OAAO,WACXvK,QAAQC,IAAI,8BACZ,EAAKiK,GAAGM,KAAK5R,KAAKC,UAAUwR,KAEhCzS,KAAKsS,GAAGO,UAAY,SAACxQ,GACjB+F,QAAQC,IAAIhG,M,+BAQhB,OAAO,yD,GAtBiCgC,cCkB3ByO,G,YACjB,WAAYpQ,GAAa,IAAD,8BACpB,4CAAMA,KACDC,MAAQ,CACTiE,MAAO,IAAIrC,EAAMkF,OAAOsJ,IAAY9Q,MAAMR,OAAO6B,SAAS0P,KAAKC,MAAM,KAAK,IAAIzO,UAC9EsD,QAASjB,EAAQiB,QACjBmE,KAAM,IAAIiH,IAAI,CAAC,CAAC,QAAS,SAAU,CAAC,kBAAmB,QAAS,CAAC,aAAc,UAC/ErQ,SAAS,GANO,E,iFAUH,IAAD,OAChB1B,MAAM,gBAAkBnB,KAAK2C,MAAMiE,MAAMpC,QAAS,CAC9C1D,OAAQ,MACRf,QAASD,EAAUS,iBAElBa,MAAK,SAAAC,GAAQ,OAAIA,EAASoF,UAC1BrF,MAAK,SAAAY,GACF,EAAKmB,SAAS,CAAEyD,MAAO5E,IACvB,EAAKmR,qB,sCAKD,IAAD,OACX/K,QAAQC,IAAI,8BACZlH,MAAM,sBAAuBnB,KAAK2C,MAAMiE,MAAMpC,QAAS,CACnD1D,OAAQ,MACRf,QAASD,EAAUS,iBAElBa,MAAK,SAAAC,GAAQ,OAAIA,EAASoF,UAC1BrF,MAAK,SAAAY,GACF,EAAKmB,SAAS,CAAEyD,MAAO5E,OACxBZ,MAAK,kBAAI,EAAK+R,qB,kCAGbjJ,GAAkB,IAAD,OACzB9B,QAAQC,IAAI6B,GACZlK,KAAKmD,SAAS,CACVN,SAAS,IAEb0B,EAAMwH,OAAO7B,GAAU9I,MAAK,SAAAC,GACxB,OAAIA,EAASa,IACTkG,QAAQC,IAAI,kCACL,IAEPD,QAAQC,IAAI,UAAYhH,EAASiB,aAC1B,MAEZlB,MAAK,SAACgS,GAKL,OAJA,EAAKjQ,SAAS,CACVyD,MAAOsD,EACPrH,SAAS,IAENuQ,O,wCAIGlN,GACd,OAAO,I,+BAIP,IAAMU,EAAQ5G,KAAK2C,MAAMiE,MACzB,OACI,gBAAC,IAAD,CAAWyM,OAAK,GACZ,gBAAC,IAAD,KACI,gBAAC,IAAD,CAAK5P,GAAI,GACL,gBAAC,EAAD,CACIyF,YAAalJ,KAAKkJ,YAAYnG,KAAK/C,MACnC4G,MAAOA,KAGf,gBAAC,IAAD,CAAKnD,GAAI,GACL,gBAAC,EAAD,CACIyF,YAAalJ,KAAKkJ,YAAYnG,KAAK/C,MACnC4G,MAAOA,KAGf,gBAAC,IAAD,CAAKnD,GAAI,GACL,gBAAC,EAAD,CACIyF,YAAalJ,KAAKkJ,YAAYnG,KAAK/C,MACnC4G,MAAOA,KAGf,gBAAC,IAAD,CAAKnD,GAAI,GACL,gBAAC,EAAD,CACIyF,YAAalJ,KAAKkJ,YAAYnG,KAAK/C,MACnC4G,MAAOA,KAGf,gBAAC,IAAD,CAAKnD,GAAI,GAAT,8BAGA,gBAAC,IAAD,CAAKD,UAAU,8BACX,gBAAC,IAAD,KACI,gBAAC,IAAD,CACIyM,KAAM,KAAM7L,QAAQ,YACpBuE,QAAS3I,KAAKsT,kBAAkBvQ,KAAK/C,OAFzC,UAIA,gBAAC,IAAD,CACIiQ,KAAM,KAAM7L,QAAQ,aADxB,YAGA,gBAAC,IAAD,CACI6L,KAAM,KAAM7L,QAAQ,aADxB,WAMZ,gBAACmP,EAAA,EAAD,CACI9K,GAAI,mBACJuE,iBAAkB,SAElB,gBAACzB,EAAA,EAAD,CACInH,QAAS,QAET,gBAACoH,EAAA,EAAD,KACI,gBAACD,EAAA,EAAIG,KAAL,CAAUC,SAAU,SAApB,UAIJ,gBAACH,EAAA,EAAD,KACI,gBAACD,EAAA,EAAIG,KAAL,CAAUC,SAAU,mBAApB,sBAIJ,gBAACH,EAAA,EAAD,KACI,gBAACD,EAAA,EAAIG,KAAL,CACIC,SAAU,cADd,kBAMJ,gBAACH,EAAA,EAAD,KACI,gBAACD,EAAA,EAAIG,KAAL,CAAUC,SAAU,eAApB,gBAEJ,gBAAC,KAAD,CACI6H,UAAU,SACVpP,QAAQ,UACRwL,MAAO,CACH,MAAS,QACT,WAAc,OACd,QAAW5P,KAAK2C,MAAME,QAAU,eAAiB,WAI7D,gBAACgJ,EAAA,EAAD,KACI,gBAACC,GAAA,EAAD,CAASH,SAAU,SACf,gBAAC,GAAD,CACI/E,MAAOA,EACPsC,YAAalJ,KAAKkJ,YAAYnG,KAAK/C,SAG3C,gBAAC8L,GAAA,EAAD,CAASH,SAAU,mBACf,gBAAC,GAAD,CACI/E,MAAOA,KAGf,gBAACkF,GAAA,EAAD,CAASH,SAAU,cAAnB,cAGA,gBAACG,GAAA,EAAD,CAASH,SAAU,eACf,gBAAC,GAAD,CACIzF,YAAaU,EAAMV,YACnB8E,kBAAmBhL,KAAKgL,kBAAkBjI,KAAK/C,gB,GApKlCqE,aCN9BoP,G,iLAdP,OACI,6BACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,KAAM,IAAKC,OAAO,EAAMC,UAAWnR,IAC1C,kBAAC,IAAD,CAAOiR,KAAM,iBAAkBE,UAAW7L,IAC1C,kBAAC,IAAD,CAAO2L,KAAM,SAAUE,UAAWd,Y,GARxCzO,IAAMC,WCKlBuP,GAAcC,QACa,cAA7BrS,OAAO6B,SAASyQ,UAEa,UAA7BtS,OAAO6B,SAASyQ,UAEhBtS,OAAO6B,SAASyQ,SAASC,MACrB,2DAsCR,SAASC,GAAgBC,EAAOC,GAC5BC,UAAUC,cACLC,SAASJ,GACT9S,MAAK,SAAAmT,GACFA,EAAaC,cAAgB,WACzB,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACE,cAA3BF,EAAiB9R,QACbyR,UAAUC,cAAcO,YAIxBxM,QAAQC,IACJ,iHAKA8L,GAAUA,EAAOU,UACjBV,EAAOU,SAASN,KAMpBnM,QAAQC,IAAI,sCAGR8L,GAAUA,EAAOW,WACjBX,EAAOW,UAAUP,WAOxCQ,OAAM,SAAA3S,GACHgG,QAAQhG,MAAM,4CAA6CA,M,OCzFvE4S,SACQ,gBAAC,GAAD,MACAC,SAASC,eAAe,SDazB,SAAkBf,GACrB,GAA6C,kBAAmBC,UAAW,CAGvE,GADkB,IAAIe,IAAIC,GAAwB3T,OAAO6B,SAAS0P,MACpDqC,SAAW5T,OAAO6B,SAAS+R,OAIrC,OAGJ5T,OAAO6T,iBAAiB,QAAQ,WAC5B,IAAMpB,EAAK,UAAMkB,GAAN,sBAEPvB,KAgEhB,SAAiCK,EAAOC,GAEpChT,MAAM+S,GACD9S,MAAK,SAAAC,GAEF,IAAMkU,EAAclU,EAAStB,QAAQyV,IAAI,gBAEjB,MAApBnU,EAASc,QACO,MAAfoT,IAA8D,IAAvCA,EAAYE,QAAQ,cAG5CrB,UAAUC,cAAcqB,MAAMtU,MAAK,SAAAmT,GAC/BA,EAAaoB,aAAavU,MAAK,WAC3BK,OAAO6B,SAASsS,eAKxB3B,GAAgBC,EAAOC,MAG9BY,OAAM,WACH3M,QAAQC,IACJ,oEArFAwN,CAAwB3B,EAAOC,GAI/BC,UAAUC,cAAcqB,MAAMtU,MAAK,WAC/BgH,QAAQC,IACJ,iHAMR4L,GAAgBC,EAAOC,OCnCvCE,I","file":"static/js/main.3884814f.chunk.js","sourcesContent":["\r\nexport default class MyHeaders{\r\n    private static _myHeaders : MyHeaders;\r\n    private headers:Headers;\r\n\r\n    private constructor(){\r\n        this.headers = new Headers();\r\n        this.headers.append(\"Content-Type\", \"application/json\")\r\n    }\r\n\r\n    public static getMyHeaders(): Headers{\r\n        if(this._myHeaders === null || this._myHeaders === undefined){\r\n            this._myHeaders = new MyHeaders();\r\n        }\r\n            return this._myHeaders.headers;\r\n    }\r\n\r\n    public static add(name:string, value:string) : void{\r\n        MyHeaders.getMyHeaders().append(name, value);\r\n    }\r\n\r\n    public  static  delete(name:string){\r\n        MyHeaders.getMyHeaders().delete(name);\r\n    }\r\n\r\n    public static resetMyHeaders(){\r\n        this._myHeaders = new MyHeaders()\r\n    }\r\n}\r\n","import MyHeaders from \"./MyHeaders\";\r\n\r\nexport const userService = {\r\n    login,\r\n    logout\r\n};\r\n\r\nfunction login(username, password) {\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: {'Content-Type': 'application/json'},\r\n        body: JSON.stringify({username, password}),\r\n        credentials: 'include'\r\n    };\r\n    return fetch(`/api/auth/callback`, requestOptions)\r\n        .then(response=>{\r\n            return response\r\n        })\r\n        .then(handleResponse)\r\n        .then(user => {\r\n            if (user) {\r\n                user.authdata = window.btoa(username + ':' + password);\r\n                localStorage.setItem('user', JSON.stringify(user));\r\n            }\r\n            return user;\r\n        });\r\n}\r\n\r\nfunction logout() {\r\n    localStorage.removeItem('user');\r\n}\r\n\r\nfunction handleResponse(response) {\r\n    return response.then(response => {\r\n        MyHeaders.getMyHeaders();\r\n    \r\n        return response\r\n    }).text().then(text => {\r\n        const data = text && JSON.parse(text);\r\n        if (!response.ok) {\r\n            if (response.status === 401) {\r\n                logout();\r\n            }\r\n            const error = (data && data.message) || response.statusText;\r\n            return Promise.reject(error);\r\n        }\r\n        return data;\r\n    });\r\n}\r\n","import React from \"react\";\r\nimport {userService} from \"../_services\";\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport MyHeaders from \"../_services/MyHeaders\";\r\n\r\nclass LoginPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            submitted: false,\r\n            loading: false,\r\n            error: ''\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSumit = this.handleSumit.bind(this);\r\n    }\r\n\r\n    handleChange(e) {\r\n        const {name, value} = e.target;\r\n        this.setState({[name]: value});\r\n    }\r\n\r\n    handleSumit(e) {\r\n        e.preventDefault();\r\n        this.setState({submitted: true});\r\n        const {username, password} = this.state;\r\n        MyHeaders.add(\"Authorization\",\"Basic dGVzdGU6dGVzdGU=\");\r\n        userService.login(username, password).then(\r\n            user => {\r\n                window.location.hash = (\"#/escolhe_ficha\");\r\n            },\r\n            error => this.setState({error, loading: false})\r\n        );\r\n        window.location.hash = (\"#/escolhe_ficha\");\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Container>\r\n            <Row className=\"d-flex justify-content-center\">\r\n              <Col md={5}>\r\n                <Form onSubmit={this.handleSumit}>\r\n                    <Form.Group controlId=\"formBasicUsername\">\r\n                        <Form.Label column={false}>Username</Form.Label>\r\n                        <Form.Control type=\"text\" placeholder=\"Enter username\" name={\"username\"}\r\n                                      onChange={this.handleChange}/>\r\n                        <Form.Text className=\"text-muted\">\r\n                        </Form.Text>\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"formBasicPassword\">\r\n                        <Form.Label column={false}>Password</Form.Label>\r\n                        <Form.Control type=\"password\" placeholder=\"Password\" name={\"password\"}\r\n                                      onChange={this.handleChange}/>\r\n                    </Form.Group>\r\n                    <Button variant=\"outline-secondary\" type=\"submit\">\r\n                        Aceder\r\n                    </Button>\r\n                </Form>\r\n              </Col>\r\n            </Row>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n\r\nexport {LoginPage}\r\n","import Situacao from \"../situacao/situacao\";\r\nimport Patrono from \"../patrono/Patrono\";\r\nimport Idioma from \"../idioma/Idioma\";\r\nimport Habito from \"../habito/Habito\";\r\nimport Habilidade from \"../habilidade/Habilidade\";\r\nimport Descendencia from \"../descendencia/Descendencia\";\r\nimport Caminho from \"../caminho/Caminho\";\r\nimport Raca from \"../raca/Raca\";\r\nimport Inventario from \"../inventario/Inventario\";\r\nimport MyHeaders from \"../../_services/MyHeaders\";\r\nimport Especializacao from \"../especializacao/Especializacao\";\r\n\r\nexport default class Ficha {\r\n    idFicha: number;\r\n    idRaca: number = -1;\r\n    idCidade: number = -1;\r\n    idJogador: number = -1;\r\n    nomePersonagem: string = \"\";\r\n    img: string = \"\";\r\n    idade: number = 0;\r\n    afiliacao: string = \"\";\r\n    cla: string = \"\";\r\n    sorteDia: number = -1;\r\n    distForca: number = 0;\r\n    distConstituicao: number = 0;\r\n    distAgilidade: number = 0;\r\n    distDestreza: number = 0;\r\n    distInteligencia: number = 0;\r\n    distSabedoria: number = 0;\r\n    distCarisma: number = 0;\r\n    nivelPersonagem: number = 1;\r\n    expPersonagem: number = 0;\r\n    descPersonagem: string = \"\";\r\n    histPersonagem: string = \"\";\r\n    nota: string = \"\";\r\n    idSanidade: number = 0;\r\n    raca: Raca = {};\r\n    caminhos: Caminho[] = [];\r\n    descendencias: Descendencia[] = [];\r\n    habilidades: Habilidade[] = [];\r\n    habitos: Habito[] = [];\r\n    idiomas: Idioma[] = [];\r\n    inventarios: Inventario[] = [];\r\n    patronos: Patrono[] = [];\r\n    situacoes: Situacao[] = [];\r\n    especializacoes: Especializacao[] = [];\r\n\r\n    constructor(idFicha: number) {\r\n        this.idFicha = idFicha;\r\n    }\r\n\r\n    public getById(): Ficha {\r\n        fetch(\"api/ficha/id/\" + this.idFicha, {\r\n            method: \"GET\",\r\n            headers: MyHeaders.getMyHeaders()\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                this.setFichaFromObject(data);\r\n            });\r\n        return this\r\n    }\r\n\r\n    public static findByIdJogador(): Promise<Ficha[]> {\r\n        return fetch(\"api/ficha/jogador\", {\r\n            method: \"GET\",\r\n            headers: MyHeaders.getMyHeaders(),\r\n            credentials: 'include'\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => data as Ficha[])\r\n    }\r\n\r\n    public static update(ficha:Ficha): Promise<Response> {\r\n        return fetch('api/ficha/',\r\n            {\r\n                method: 'PUT',\r\n                headers: MyHeaders.getMyHeaders(),\r\n                body: JSON.stringify(ficha)\r\n            });\r\n    }\r\n\r\n    private setFichaFromObject(obj: Ficha) {\r\n        this.idRaca = obj.idRaca;\r\n        this.idCidade = obj.idCidade;\r\n        this.idJogador = obj.idJogador;\r\n        this.nomePersonagem = obj.nomePersonagem;\r\n        this.img = obj.img;\r\n        this.idade = obj.idade;\r\n        this.afiliacao = obj.afiliacao;\r\n        this.cla = obj.cla;\r\n        this.sorteDia = obj.sorteDia;\r\n        this.distForca = obj.distForca;\r\n        this.distAgilidade = obj.distAgilidade;\r\n        this.distCarisma = obj.distCarisma;\r\n        this.distConstituicao = obj.distConstituicao;\r\n        this.distDestreza = obj.distDestreza;\r\n        this.distSabedoria = obj.distSabedoria;\r\n        this.distInteligencia = obj.distInteligencia;\r\n        this.nivelPersonagem = obj.nivelPersonagem;\r\n        this.expPersonagem = obj.expPersonagem;\r\n        this.descPersonagem = obj.descPersonagem;\r\n        this.histPersonagem = obj.histPersonagem;\r\n        this.nota = obj.nota;\r\n        this.idSanidade = obj.idSanidade;\r\n        this.raca = obj.raca;\r\n        this.caminhos = obj.caminhos;\r\n        this.descendencias = obj.descendencias;\r\n        this.habilidades = obj.habilidades;\r\n        this.habitos = obj.habitos;\r\n        this.idiomas = obj.idiomas;\r\n        this.inventarios = obj.inventarios;\r\n        this.patronos = obj.patronos;\r\n        this.situacoes = obj.situacoes;\r\n        this.especializacoes = obj.especializacoes;\r\n    }\r\n\r\n    /*    get idFicha(): number {\r\n            return this._idFicha;\r\n        }\r\n\r\n        set idFicha(value: number) {\r\n            this._idFicha = value;\r\n        }\r\n\r\n        get idRaca(): number {\r\n            return this._idRaca;\r\n        }\r\n\r\n        set idRaca(value: number) {\r\n            this._idRaca = value;\r\n        }\r\n\r\n        get idCidade(): number {\r\n            return this._idCidade;\r\n        }\r\n\r\n        set idCidade(value: number) {\r\n            this._idCidade = value;\r\n        }\r\n\r\n        get idJogador(): number {\r\n            return this._idJogador;\r\n        }\r\n\r\n        set idJogador(value: number) {\r\n            this._idJogador = value;\r\n        }\r\n\r\n        get nomePersonagem(): string {\r\n            return this._nomePersonagem;\r\n        }\r\n\r\n        set nomePersonagem(value: string) {\r\n            this._nomePersonagem = value;\r\n        }\r\n\r\n        get img(): string {\r\n            return this._img;\r\n        }\r\n\r\n        set img(value: string) {\r\n            this._img = value;\r\n        }\r\n\r\n        get idade(): number {\r\n            return this._idade;\r\n        }\r\n\r\n        set idade(value: number) {\r\n            this._idade = value;\r\n        }\r\n\r\n        get afiliacao(): string {\r\n            return this._afiliacao;\r\n        }\r\n\r\n        set afiliacao(value: string) {\r\n            this._afiliacao = value;\r\n        }\r\n\r\n        get cla(): string {\r\n            return this._cla;\r\n        }\r\n\r\n        set cla(value: string) {\r\n            this._cla = value;\r\n        }\r\n\r\n        get sorteDia(): number {\r\n            return this._sorteDia;\r\n        }\r\n\r\n        set sorteDia(value: number) {\r\n            this._sorteDia = value;\r\n        }\r\n\r\n        get distForca(): number {\r\n            return this._distForca;\r\n        }\r\n\r\n        set distForca(value: number) {\r\n            this._distForca = value;\r\n        }\r\n\r\n        get distConstituicao(): number {\r\n            return this._distConstituicao;\r\n        }\r\n\r\n        set distConstituicao(value: number) {\r\n            this._distConstituicao = value;\r\n        }\r\n\r\n        get distAgilidade(): number {\r\n            return this._distAgilidade;\r\n        }\r\n\r\n        set distAgilidade(value: number) {\r\n            this._distAgilidade = value;\r\n        }\r\n\r\n        get distDestreza(): number {\r\n            return this._distDestreza;\r\n        }\r\n\r\n        set distDestreza(value: number) {\r\n            this._distDestreza = value;\r\n        }\r\n\r\n        get distInteligencia(): number {\r\n            return this._distInteligencia;\r\n        }\r\n\r\n        set distInteligencia(value: number) {\r\n            this._distInteligencia = value;\r\n        }\r\n\r\n        get distSabedoria(): number {\r\n            return this._distSabedoria;\r\n        }\r\n\r\n        set distSabedoria(value: number) {\r\n            this._distSabedoria = value;\r\n        }\r\n\r\n        get distCarisma(): number {\r\n            return this._distCarisma;\r\n        }\r\n\r\n        set distCarisma(value: number) {\r\n            this._distCarisma = value;\r\n        }\r\n\r\n        get nivelPersonagem(): number {\r\n            return this._nivelPersonagem;\r\n        }\r\n\r\n        set nivelPersonagem(value: number) {\r\n            this._nivelPersonagem = value;\r\n        }\r\n\r\n        get expPersonagem(): number {\r\n            return this._expPersonagem;\r\n        }\r\n\r\n        set expPersonagem(value: number) {\r\n            this._expPersonagem = value;\r\n        }\r\n\r\n        get descPersonagem(): string {\r\n            return this._descPersonagem;\r\n        }\r\n\r\n        set descPersonagem(value: string) {\r\n            this._descPersonagem = value;\r\n        }\r\n\r\n        get histPersonagem(): string {\r\n            return this._histPersonagem;\r\n        }\r\n\r\n        set histPersonagem(value: string) {\r\n            this._histPersonagem = value;\r\n        }\r\n\r\n        get nota(): string {\r\n            return this._nota;\r\n        }\r\n\r\n        set nota(value: string) {\r\n            this._nota = value;\r\n        }\r\n\r\n        get idSanidade(): number {\r\n            return this._idSanidade;\r\n        }\r\n\r\n        set idSanidade(value: number) {\r\n            this._idSanidade = value;\r\n        }\r\n\r\n        get raca(): Raca {\r\n            return this._raca;\r\n        }\r\n\r\n        set raca(value: Raca) {\r\n            this._raca = value;\r\n        }\r\n\r\n        get caminhos(): Caminho[] {\r\n            return this._caminhos;\r\n        }\r\n\r\n        set caminhos(value: Caminho[]) {\r\n            this._caminhos = value;\r\n        }\r\n\r\n        get descendencias(): Descendencia[] {\r\n            return this._descendencias;\r\n        }\r\n\r\n        set descendencias(value: Descendencia[]) {\r\n            this._descendencias = value;\r\n        }\r\n\r\n        get habilidades(): Habilidade[] {\r\n            return this._habilidades;\r\n        }\r\n\r\n        set habilidades(value: Habilidade[]) {\r\n            this._habilidades = value;\r\n        }\r\n\r\n        get habitos(): Habito[] {\r\n            return this._habitos;\r\n        }\r\n\r\n        set habitos(value: Habito[]) {\r\n            this._habitos = value;\r\n        }\r\n\r\n        get idiomas(): Idioma[] {\r\n            return this._idiomas;\r\n        }\r\n\r\n        set idiomas(value: Idioma[]) {\r\n            this._idiomas = value;\r\n        }\r\n\r\n        get inventarios(): Inventario[] {\r\n            return this._inventarios;\r\n        }\r\n\r\n        set inventarios(value: Inventario[]) {\r\n            this._inventarios = value;\r\n        }\r\n\r\n        get patronos(): Patrono[] {\r\n            return this._patronos;\r\n        }\r\n\r\n        set patronos(value: Patrono[]) {\r\n            this._patronos = value;\r\n        }\r\n\r\n        get situacoes(): Situacao[] {\r\n            return this._situacoes;\r\n        }\r\n\r\n        set situacoes(value: Situacao[]) {\r\n            this._situacoes = value;\r\n        }\r\n    */\r\n}\r\n","import Idioma from \"../idioma/Idioma\";\r\nimport Patrono from \"../patrono/Patrono\";\r\nimport Descendencia from \"../descendencia/Descendencia\";\r\nimport Habilidade from \"../habilidade/Habilidade\";\r\nimport Caminho from \"../caminho/Caminho\";\r\nimport Especializacao from \"../especializacao/Especializacao\";\r\nimport Habito from \"../habito/Habito\";\r\nimport Raca from \"../raca/Raca\";\r\nimport Cidade from \"../cidade/Cidade\";\r\nimport MyHeaders from \"../../_services/MyHeaders\";\r\n\r\nexport default class Sistema {\r\n    private static _sistema: Sistema;\r\n    private _racas?: Raca[];\r\n    private _caminhos?: Caminho[] = [];\r\n    private _cidades?: Cidade[];\r\n    private _descendencias?: Descendencia[];\r\n    private _habilidades?: Habilidade[];\r\n    private _habitos?: Habito[];\r\n    private _idiomas?: Idioma[];\r\n    private _patronos?: Patrono[];\r\n    private _especializacoes?: Especializacao[];\r\n\r\n    private constructor() {\r\n        const localStorageSistema = localStorage.getItem(\"sistema\");\r\n        if(localStorageSistema)\r\n            this.setSistemaFromObject(JSON.parse(localStorageSistema));\r\n        else\r\n            this.sistemaGetRequest()\r\n    }\r\n\r\n     private sistemaGetRequest() {\r\n        fetch('api/sistema',{\r\n            method:'GET',\r\n            headers:MyHeaders.getMyHeaders(),\r\n            credentials: 'include'\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                localStorage.setItem(\"sistema\", JSON.stringify(data));\r\n                this.setSistemaFromObject(data)\r\n            });\r\n    }\r\n\r\n    private setSistemaFromObject(json: any){\r\n        this._racas = json.racas;\r\n        this._caminhos = json.caminhos;\r\n        this._cidades = json.cidades;\r\n        this._descendencias = json.descendencias;\r\n        this._habilidades = json.habilidades;\r\n        this._habitos = json.habitos;\r\n        this._idiomas = json.idiomas;\r\n        this._patronos = json.patronos;\r\n        this._especializacoes = json.especializacoes;\r\n    }\r\n\r\n    static get sistema() {\r\n        if (this._sistema === undefined) {\r\n            this._sistema = new Sistema()\r\n        }\r\n        return this._sistema\r\n    }\r\n\r\n    static get racas(): Raca[] {\r\n        if (this.sistema._racas !== undefined)\r\n            return this.sistema._racas!;\r\n        else\r\n            return []\r\n    }\r\n\r\n    static get caminhos(): Caminho[] {\r\n        if (this.sistema._caminhos !== undefined)\r\n            return this.sistema._caminhos!;\r\n        else\r\n            return []\r\n    }\r\n\r\n\r\n    static get cidades(): Cidade[] {\r\n        if (this.sistema._cidades !== undefined)\r\n            return this.sistema._cidades!;\r\n        else\r\n            return []\r\n    }\r\n\r\n    static get descendencias(): Descendencia[] {\r\n        if (this.sistema._descendencias !== undefined)\r\n            return this.sistema._descendencias!;\r\n        else\r\n            return []\r\n    }\r\n\r\n    static get especializacoes(): Especializacao[] {\r\n        if (this.sistema._especializacoes !== undefined)\r\n            return this.sistema._especializacoes!;\r\n        else\r\n            return []\r\n    }\r\n\r\n    static get habilidades(): Habilidade[] {\r\n        if (this.sistema._habilidades !== undefined)\r\n            return this.sistema._habilidades!;\r\n        else\r\n            return []\r\n    }\r\n\r\n    static get habitos(): Habito[] {\r\n        if (this.sistema._habitos !== undefined)\r\n            return this.sistema._habitos!;\r\n        else\r\n            return []\r\n    }\r\n\r\n    static get idiomas(): Idioma[] {\r\n        if (this.sistema._idiomas !== undefined)\r\n            return this.sistema._idiomas!;\r\n        else\r\n            return []\r\n    }\r\n\r\n    static get patronos(): Patrono[] {\r\n        if (this.sistema._patronos !== undefined)\r\n            return this.sistema._patronos!;\r\n        else\r\n            return []\r\n    }\r\n}\r\n\r\n","import * as React from 'react'\r\nimport './EscolheFicha.css'\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Button from 'react-bootstrap/Button'\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from 'react-bootstrap/Container'\r\nimport Ficha from \"../components/ficha/Ficha\";\r\nimport Sistema from \"../components/sistema/Sistema\";\r\nimport Image from \"react-bootstrap/Image\";\r\n\r\ninterface Props {\r\n}\r\n\r\ninterface State {\r\n    resumoFichas: Ficha[]\r\n    sistema: Sistema\r\n}\r\n\r\nclass EscolheFicha extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            resumoFichas: [],\r\n            sistema: Sistema.sistema\r\n        };\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<Props>, prevState: Readonly<State>, snapshot?: any): void {\r\n        console.log(this.state.resumoFichas)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchResumoFichas();\r\n        Ficha.findByIdJogador().then(fichas => {\r\n            this.setState({resumoFichas: fichas})\r\n        })\r\n    }\r\n\r\n    handleAction(id: any) {\r\n        window.location.hash = \"#/ficha?idFicha=\" + id\r\n    }\r\n\r\n    fetchResumoFichas() {\r\n        return (\r\n            this.state.resumoFichas.map((ficha) =>\r\n                <Button\r\n                    variant={\"outline-dark\"}\r\n                    onClick={this.handleAction.bind(this, ficha.idFicha)}>\r\n                    <Row>\r\n                        <Col className=\"corpo\">\r\n                            <label>Nome: </label>\r\n                            <h3>{ficha.nomePersonagem}</h3>\r\n                        </Col>\r\n                        <Col>\r\n                            <Image/>\r\n                        </Col>\r\n                    </Row>\r\n                </Button>\r\n            )\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Container>\r\n                {this.state.resumoFichas.map((ficha)=>\r\n                <Button\r\n                    className='ficha-sel'\r\n                    variant={\"outline-dark\"}\r\n                    onClick={this.handleAction.bind(this, ficha.idFicha)}>\r\n                    <Row>\r\n                        <Col className=\"corpo\">\r\n                            <label>Nome: </label>\r\n                            <h3>{ficha.nomePersonagem}</h3>\r\n                        </Col>\r\n                        <Col>\r\n                            <Image\r\n                                src={ficha.img}\r\n                                alt={\"fail to load\"}/>\r\n                        </Col>\r\n                    </Row>\r\n                </Button>\r\n                )}\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n\r\nexport {EscolheFicha}\r\n","import React, {FormEvent} from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Ficha from \"./Ficha\";\r\n\r\ninterface Props {\r\n    ficha: Ficha\r\n    updateFicha: Function\r\n}\r\n\r\ninterface State {\r\n    readOnly: boolean\r\n    nomePersonagem: string\r\n}\r\n\r\nclass NomeApp extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            readOnly: true,\r\n            nomePersonagem: this.props.ficha.nomePersonagem\r\n        };\r\n        this.onDoubleClick = this.onDoubleClick.bind(this)\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Props) {\r\n        if (prevProps.ficha.nomePersonagem !== this.props.ficha.nomePersonagem)\r\n            this.setState({nomePersonagem: this.props.ficha.nomePersonagem})\r\n    }\r\n\r\n    onDoubleClick() {\r\n        this.setState({readOnly: false})\r\n    }\r\n\r\n    onBlur() {\r\n        this.setState({readOnly: true});\r\n        let ficha = this.props.ficha;\r\n        ficha.nomePersonagem = this.state.nomePersonagem;\r\n        this.props.updateFicha(ficha);\r\n    }\r\n\r\n    handleChange(event: FormEvent) {\r\n        let value = (event.target as HTMLInputElement).value;\r\n        this.setState({\r\n            nomePersonagem: value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Form.Control\r\n                as={\"input\"}\r\n                type={\"text\"}\r\n                value={this.state.nomePersonagem}\r\n                plaintext={this.state.readOnly}\r\n                readOnly={this.state.readOnly}\r\n                onDoubleClick={this.onDoubleClick}\r\n                onBlur={this.onBlur.bind(this)}\r\n                onChange={this.handleChange.bind(this)}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nexport {NomeApp}\r\n","import * as React from \"react\";\r\nimport Ficha from \"./Ficha\";\r\nimport {Col, Form, FormControl, FormGroup, Row} from \"react-bootstrap\";\r\nimport {FormEvent} from \"react\";\r\n\r\ninterface Props {\r\n    ficha: Ficha\r\n    updateFicha: Function\r\n}\r\n\r\ninterface State {\r\n    readonly: boolean\r\n    idade: number\r\n}\r\n\r\nexport default class IdadeApp extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            readonly: true,\r\n            idade:this.props.ficha.idade\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<Props>, prevState: Readonly<State>, snapshot?: any): void {\r\n        if (prevProps.ficha.idade !== this.props.ficha.idade)\r\n            this.setState({\r\n                idade: this.props.ficha.idade\r\n            })\r\n    }\r\n\r\n    handleChange(event:FormEvent){\r\n        let value = (event.target as HTMLInputElement).value;\r\n        this.setState({\r\n            idade:Number(value)\r\n        })\r\n    }\r\n\r\n    handleBlur(){\r\n        let ficha = this.props.ficha;\r\n        ficha.idade = this.state.idade;\r\n        this.props.updateFicha(ficha);\r\n        this.setState({\r\n            readonly:true\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <FormGroup as={Row}>\r\n                <Col lg={\"auto\"}>\r\n                    <Form.Label column={true} sm={2}>Idade</Form.Label>\r\n                </Col>\r\n                <Col>\r\n                    <FormControl\r\n                        as={'input'}\r\n                        type={\"number\"}\r\n                        plaintext={true}\r\n                        readOnly={this.state.readonly}\r\n                        value={this.state.idade.toString()}\r\n                        onDoubleClick={() => this.setState({readonly: false})}\r\n                        onBlur={this.handleBlur.bind(this)}\r\n                        onChange={this.handleChange.bind(this)}\r\n                    />\r\n                </Col>\r\n            </FormGroup>\r\n        )\r\n    }\r\n}\r\n","import React, {FormEvent} from \"react\";\r\nimport Ficha from \"./Ficha\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\nimport {Col, Form, FormGroup, Row} from \"react-bootstrap\";\r\n\r\ninterface Props {\r\n    ficha: Ficha,\r\n    updateFicha(arg0:Ficha):void\r\n}\r\n\r\ninterface State {\r\n    nivelPersonagem:number\r\n    readonly: boolean\r\n}\r\n\r\nexport default class NivelPersonagem extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            nivelPersonagem:this.props.ficha.nivelPersonagem,\r\n            readonly: true\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<Props>, prevState: Readonly<State>, snapshot?: any): void {\r\n        if (prevProps.ficha.nivelPersonagem !== this.props.ficha.nivelPersonagem)\r\n            this.setState({\r\n                nivelPersonagem: this.props.ficha.nivelPersonagem\r\n            })\r\n    }\r\n\r\n    handleDoubleClick(){\r\n        this.setState({\r\n            readonly:false\r\n        })\r\n    }\r\n\r\n    handleBlur(){\r\n        let newFicha = this.props.ficha;\r\n        newFicha.nivelPersonagem = this.state.nivelPersonagem;\r\n        this.props.updateFicha(newFicha);\r\n        this.setState({\r\n            readonly:true\r\n        });\r\n    }\r\n\r\n    handleChange(event: FormEvent){\r\n        let value = (event.target as HTMLInputElement).value;\r\n        this.setState({\r\n            nivelPersonagem:Number(value)\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <FormGroup as={Row} >\r\n                <Form.Label column={true} sm={2}>Nivel</Form.Label>\r\n                <Col>\r\n                    <FormControl\r\n                        as={'input'}\r\n                        type={'number'}\r\n                        value={this.state.nivelPersonagem.toString()}\r\n                        readOnly={this.state.readonly}\r\n                        plaintext={this.state.readonly}\r\n                        onDoubleClick={this.handleDoubleClick.bind(this)}\r\n                        onBlur={this.handleBlur.bind(this)}\r\n                        onChange={this.handleChange.bind(this)}\r\n                    />\r\n                </Col>\r\n            </FormGroup>\r\n        )\r\n    }\r\n}\r\n","import React, { FormEvent } from \"react\";\r\nimport Ficha from \"./Ficha\";\r\nimport { Col, Form, FormGroup, Row } from \"react-bootstrap\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\n\r\ninterface Props {\r\n    ficha: Ficha\r\n    updateFicha(arg0: Ficha): void\r\n}\r\ninterface State {\r\n    expPersonagem: number,\r\n    readonly: boolean\r\n}\r\nexport default class ExperienciaApp extends React.Component<Props, State>{\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            expPersonagem: this.props.ficha.expPersonagem,\r\n            readonly: true\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<Props>, prevState: Readonly<State>, snapshot?: any): void {\r\n        if (prevProps.ficha.expPersonagem !== this.props.ficha.expPersonagem)\r\n            this.setState({\r\n                expPersonagem: this.props.ficha.expPersonagem\r\n            })\r\n    }\r\n\r\n    handleOnChange(event: FormEvent) {\r\n        let value = (event.target as HTMLInputElement).value\r\n        this.setState({\r\n            expPersonagem: Number(value)\r\n        })\r\n    }\r\n\r\n    handleOnBlur() {\r\n        this.setState({\r\n            readonly: true\r\n        })\r\n        if (this.state.expPersonagem !== this.props.ficha.expPersonagem) {\r\n            let ficha = this.props.ficha\r\n            ficha.expPersonagem = this.state.expPersonagem\r\n            this.props.updateFicha(ficha);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <FormGroup as={Row}>\r\n                <Form.Label column={true} sm={2}>Exp</Form.Label>\r\n                <Col>\r\n                    <FormControl\r\n                        as={'input'}\r\n                        type={'number'}\r\n                        value={this.state.expPersonagem.toString()}\r\n                        readOnly={this.state.readonly}\r\n                        plaintext={this.state.readonly}\r\n                        onDoubleClick={() => this.setState({ readonly: false })}\r\n                        onChange={this.handleOnChange.bind(this)}\r\n                        onBlur={this.handleOnBlur.bind(this)}\r\n                    />\r\n                </Col>\r\n            </FormGroup>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\"\r\nimport Habilidade from \"./Habilidade\"\r\nimport {Container, Row} from \"react-bootstrap\"\r\n\r\ninterface Props {\r\n    habilidade: Habilidade\r\n\r\n    update?(prevHabilidade: Habilidade, newHabilidade: Habilidade): boolean\r\n\r\n    add?(newHabilidade: Habilidade): boolean\r\n\r\n    delete?(habilidade: Habilidade): boolean\r\n}\r\nexport default class HabilidadeApp extends React.Component<Props, any> {\r\n\r\n    render() {\r\n        const habilidade = this.props.habilidade;\r\n        return (\r\n            <Container>\r\n                <Row>\r\n                    {habilidade.descHabilidade}\r\n                </Row>{/*\r\n                <Row>\r\n                    {habilidade.acoes.}\r\n                </Row>\r\n                <Row>\r\n                    {habilidade.gasto}\r\n                </Row>\r\n                <Row>\r\n                    {habilidade.nivelRequerido}\r\n                </Row>\r\n                <Row>\r\n                    {habilidade.prerequisito}\r\n                </Row>\r\n                <Row>\r\n                    {habilidade.tipoHabilidade}\r\n                </Row>\r\n                <Row>\r\n                    {habilidade.atrAtacante}\r\n                </Row>\r\n                <Row>\r\n                    {habilidade.utiHabilidade}\r\n                </Row>*/}\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\"\r\nimport Habilidade from \"./Habilidade\"\r\nimport { Row, Tab, Nav, NavItem, TabPane } from \"react-bootstrap\"\r\nimport { Col } from \"react-bootstrap\"\r\nimport { TabContent } from \"react-bootstrap\"\r\nimport HabilidadeApp from \"./HabilidadeApp\"\r\n\r\ninterface Props {\r\n    habilidades: Habilidade[]\r\n    updateHabilidades?(habilidades: Habilidade[]): boolean\r\n}\r\nexport default class HabilidadesApp extends React.Component<Props,{}>{\r\n\r\n    update(prevHabilidade: Habilidade, newHabilidade: Habilidade){\r\n        let index = this.findIndex(prevHabilidade, this.props.habilidades);\r\n        const habilidades = this.props.habilidades.map((value, valueIndex)=>{\r\n            if(valueIndex === index)\r\n                return newHabilidade;\r\n            else\r\n                return value\r\n        });\r\n        return this.props.updateHabilidades!(habilidades);\r\n    }\r\n\r\n    add(newHabilidade: Habilidade){\r\n        return this.props.updateHabilidades!(this.props.habilidades.concat(newHabilidade));\r\n    }\r\n\r\n    delete(habilidade: Habilidade){\r\n        return this.props.updateHabilidades!(this.props.habilidades.filter(value => value.idHabilidade !== habilidade.idHabilidade))\r\n    }\r\n\r\n    findIndex(habilidade: Habilidade, habilidades: Habilidade[]) {\r\n        return habilidades.findIndex(element =>\r\n            element.idHabilidade === habilidade.idHabilidade);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Tab.Container\r\n                id={\"habilidades-personagem\"}\r\n            >\r\n                <Row>\r\n                    <Col lg={3}>\r\n                        <Nav className=\"flex-column\">\r\n                            {this.props.habilidades.map((habilidade, index) => {\r\n                                return (\r\n                                    <NavItem\r\n                                        key={index}\r\n                                    >\r\n                                        <Nav.Link\r\n                                            eventKey={index}\r\n                                        >\r\n                                            {habilidade.nomeHabilidade}\r\n                                        </Nav.Link>\r\n                                    </NavItem>\r\n\r\n                                )\r\n                            })}\r\n                        </Nav>\r\n                    </Col>\r\n                    <Col>\r\n                        <TabContent>\r\n                            {this.props.habilidades.map((habilidade, index) => {\r\n                                return (\r\n                                    <TabPane\r\n                                        key={index}\r\n                                        eventKey={index}\r\n                                    >\r\n                                        <HabilidadeApp\r\n                                            update={this.update.bind(this)}\r\n                                            add={this.add.bind(this)}\r\n                                            delete={this.delete.bind(this)}\r\n                                            habilidade={habilidade}\r\n                                        />\r\n                                    </TabPane>\r\n                                )\r\n                            })}\r\n                        </TabContent>\r\n                    </Col>\r\n                </Row>\r\n            </Tab.Container>\r\n        )\r\n    }\r\n}\r\n","import React, {FormEvent} from 'react'\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Sistema from \"../sistema/Sistema\";\r\nimport Raca from \"./Raca\";\r\nimport {Button, Col, Modal, ModalBody, ModalFooter, Row, Tab, Table, Tabs} from \"react-bootstrap\";\r\n\r\ninterface Props {\r\n    raca: Raca\r\n\r\n    updateRaca(raca: Raca): boolean\r\n}\r\n\r\ninterface State {\r\n    raca: Raca\r\n    show: boolean\r\n}\r\n\r\nexport default class RacaApp extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            raca: this.props.raca,\r\n            show: false\r\n        };\r\n    }\r\n\r\n    handleChange(event: FormEvent) {\r\n        let value = (event.target as HTMLFormElement).value;\r\n        let newRaca = Sistema.racas.find(raca => raca.idRaca!.toString() === value);\r\n        if (newRaca) {\r\n            this.setState({\r\n                raca: newRaca\r\n            })\r\n        } else {\r\n            alert(\"Ops Algo deu errado!\")\r\n        }\r\n    }\r\n\r\n    handleOnSave() {\r\n        this.props.updateRaca(this.state.raca);\r\n        this.handleOnHide()\r\n    }\r\n\r\n    handleOnHide() {\r\n        this.setState({show: false})\r\n    }\r\n\r\n    handleOnClick() {\r\n        this.setState({\r\n            show: true,\r\n            raca: this.props.raca\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Button\r\n                    variant={\"light\"}\r\n                    block={true}\r\n                    onClick={this.handleOnClick.bind(this)}\r\n                >\r\n                    {this.props.raca.nomeRaca}\r\n                </Button>\r\n                <Modal\r\n                    show={this.state.show}\r\n                    onHide={this.handleOnHide.bind(this)}\r\n                >\r\n                    <Modal.Header closeButton>\r\n                        <Form.Control\r\n                            value={this.state.raca.idRaca ? this.state.raca.idRaca.toString() : \"0\"}\r\n                            as={\"select\"}\r\n                            onChange={this.handleChange.bind(this)}\r\n                        >\r\n                            {Sistema.racas.map((raca, index) =>\r\n                                <option\r\n                                    key={index}\r\n                                    value={raca.idRaca}\r\n                                >{raca.nomeRaca}</option>\r\n                            )}\r\n                        </Form.Control>\r\n                    </Modal.Header>\r\n                    <ModalBody>\r\n                        <Tabs defaultActiveKey={\"descRaca\"} id={\"tab-raca\"}>\r\n                            {this.tabDesc()}\r\n                            {this.tabAtributos()}\r\n                            {this.tabCultura()}\r\n                            {this.tabHistoria()}\r\n                        </Tabs>\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <Button onClick={this.handleOnSave.bind(this)}>Save</Button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n            </div>\r\n            /**/\r\n        )\r\n    }\r\n\r\n    tabDesc() {\r\n        return (\r\n            <Tab\r\n                eventKey={\"descRaca\"}\r\n                title={\"Descrio\"}\r\n            >\r\n                <Row>\r\n                    <Col>\r\n                        Raridade: {this.state.raca.raridadeRaca}\r\n                    </Col>\r\n                    <Col>\r\n                        Longevidade: {this.state.raca.longevidadeRaca}\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col>\r\n                        Descrio:\r\n                        {this.state.raca.descRaca}\r\n                    </Col>\r\n                </Row>\r\n            </Tab>\r\n        )\r\n    }\r\n\r\n    tabCultura() {\r\n        if (this.state.raca.culturaRaca) {\r\n            return (\r\n                <Tab title={\"Cultura\"} eventKey={\"culturaRaca\"}>\r\n                    <Row>\r\n                        <Col>\r\n                            {this.state.raca.culturaRaca}\r\n                        </Col>\r\n                    </Row>\r\n                </Tab>\r\n            )\r\n        }\r\n    }\r\n\r\n    tabHistoria() {\r\n        if (this.state.raca.historiaRaca) {\r\n            return (\r\n                <Tab title={\"Histria\"} eventKey={\"historiaRaca\"}>\r\n                    <Row>\r\n                        <Col>\r\n                            {this.state.raca.historiaRaca}\r\n                        </Col>\r\n                    </Row>\r\n                </Tab>\r\n            )\r\n        } else\r\n            return (\r\n                <Tab title={\"Histria\"} disabled={true}>\r\n                </Tab>\r\n            )\r\n    }\r\n\r\n    tabAtributos() {\r\n        return (\r\n            <Tab title={\"Atributos\"} eventKey={\"atributosRaca\"}>\r\n                <Row>\r\n                    <Col>\r\n                        <Table>\r\n                            <tbody>\r\n                            <tr>\r\n                                <th>Sangue</th>\r\n                                <td>{this.state.raca.sangue}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th>Vigor</th>\r\n                                <td>{this.state.raca.vigor}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th>FOR</th>\r\n                                <td>{this.state.raca.racaForca}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th>CON</th>\r\n                                <td>{this.state.raca.racaConstituicao}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th>AGI</th>\r\n                                <td>{this.state.raca.racaAgilidade}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th>DES</th>\r\n                                <td>{this.state.raca.racaDestreza}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th>INT</th>\r\n                                <td>{this.state.raca.racaInteligencia}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th>SAB</th>\r\n                                <td>{this.state.raca.racaSabedoria}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th>CAR</th>\r\n                                <td>{this.state.raca.racaCarisma}</td>\r\n                            </tr>\r\n                            </tbody>\r\n                        </Table>\r\n                    </Col>\r\n                </Row>\r\n            </Tab>\r\n        )\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport Caminho from \"./Caminho\";\r\nimport Sistema from \"../sistema/Sistema\";\r\nimport {Button, Col, FormControl, Modal, ModalBody, ModalFooter, Tab, Tabs} from \"react-bootstrap\";\r\n\r\ninterface Props {\r\n    handleHide: Function\r\n    caminho: Caminho\r\n    show: boolean\r\n\r\n    add?(newCaminho: Caminho): boolean\r\n\r\n    update?(newCaminho: Caminho, prevCaminho: Caminho): boolean\r\n\r\n    delete?(descendencia: Caminho): boolean\r\n}\r\n\r\ninterface State {\r\n    caminho: Caminho\r\n    isInvalid: boolean\r\n}\r\n\r\nexport default class CaminhosApp extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            caminho: this.props.caminho,\r\n            isInvalid: false\r\n        };\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<Props>): void {\r\n        if (!prevProps.show && this.props.show) {\r\n            this.setState({\r\n                caminho: this.props.caminho\r\n            })\r\n        }\r\n    }\r\n\r\n    handleInvalid() {\r\n        this.setState({isInvalid: true});\r\n        setTimeout(() => this.setState({isInvalid: false}), 1000)\r\n\r\n    }\r\n\r\n    handleChange(event: React.FormEvent) {\r\n        const value = (event.target as HTMLSelectElement).value;\r\n        let newCaminho = Sistema.caminhos.find(caminho => caminho.idCaminho === Number(value));\r\n        if (newCaminho !== undefined)\r\n            this.setState({\r\n                caminho: newCaminho,\r\n                isInvalid: false\r\n            });\r\n        else\r\n            alert(\"Ops algo deu errado!\")\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Col>\r\n                <Modal\r\n                    show={this.props.show}\r\n                    onHide={() => this.props.handleHide()}\r\n                >\r\n                    <Modal.Header closeButton>\r\n                        <FormControl\r\n                            value={this.state.caminho.idCaminho.toString()}\r\n                            onChange={this.handleChange.bind(this)}\r\n                            as={\"select\"}\r\n                            isInvalid={this.state.isInvalid}\r\n                        >\r\n                            {Sistema.caminhos.map((caminho, index) =>\r\n                                <option\r\n                                    value={caminho.idCaminho.toString()}\r\n                                    key={index}\r\n                                >\r\n                                    {caminho.nomeCaminho}\r\n                                </option>\r\n                            )}\r\n                        </FormControl>\r\n                    </Modal.Header>\r\n                    <ModalBody>\r\n                        <Tabs defaultActiveKey={\"descCaminho\"} id={\"tab-caminho\"}\r\n                        >\r\n                            {this.tabDesc()}\r\n                        </Tabs>\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        {this.renderBotoes()}\r\n                    </ModalFooter>\r\n                </Modal>\r\n            </Col>\r\n        )\r\n    }\r\n\r\n    renderBotoes() {\r\n        let botoes = [];\r\n        if (this.props.add !== undefined) {\r\n            botoes.push(\r\n                <Button\r\n                    onClick={() => {\r\n                        this.props.add!(this.state.caminho) ?\r\n                            this.props.handleHide() : this.handleInvalid()\r\n                    }}\r\n                    key={'1'}\r\n                >Add</Button>\r\n            );\r\n        }\r\n        if (this.props.update !== undefined) {\r\n            botoes.push(\r\n                <Button\r\n                    onClick={() => {\r\n                        this.props.update!(this.state.caminho, this.props.caminho) ?\r\n                            this.props.handleHide() : this.handleInvalid()\r\n                    }}\r\n                    key={'2'}\r\n                >update</Button>\r\n            );\r\n        }\r\n        if (this.props.delete !== undefined) {\r\n            botoes.push(\r\n                <Button\r\n                    onClick={() => this.props.delete!(this.state.caminho) ?\r\n                        this.props.handleHide() : this.handleInvalid()}\r\n                    key={\"3\"}\r\n                >delete</Button>\r\n            );\r\n        }\r\n        return botoes;\r\n    }\r\n\r\n    tabDesc() {\r\n        return (\r\n            <Tab\r\n                eventKey={\"descCaminho\"}\r\n                title={\"Descrio\"}\r\n            >\r\n                {this.state.caminho.descCaminho}\r\n            </Tab>\r\n        )\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport Caminho from \"./Caminho\";\r\nimport CaminhoApp from \"./CaminhoApp\";\r\nimport {Button, Col, Container, Row} from \"react-bootstrap\";\r\nimport Sistema from \"../sistema/Sistema\";\r\n\r\n\r\ninterface Props {\r\n    caminhos: Caminho[]\r\n    updateCaminhos(caminhos: Caminho[]): boolean\r\n}\r\n\r\ninterface State {\r\n    showPlus: boolean\r\n    shows: boolean[]\r\n}\r\n\r\nexport default class CaminhosApp extends React.Component<Props, State> {\r\n\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            showPlus: false,\r\n            shows: []\r\n        };\r\n    }\r\n\r\n    updateCaminhos(newCaminho: Caminho, prevCaminho: Caminho): boolean {\r\n        let caminhos = this.props.caminhos;\r\n        let index = this.findIndex(prevCaminho, this.props.caminhos);\r\n        if (index !== -1) {\r\n            caminhos[index] = newCaminho;\r\n            return this.props.updateCaminhos(caminhos)\r\n        } else {\r\n            return false\r\n        }\r\n    }\r\n\r\n    addCaminho(newCaminho: Caminho): boolean {\r\n        let caminhos = this.props.caminhos;\r\n        let index = this.findIndex(newCaminho, caminhos);\r\n        if (index === -1) {\r\n            caminhos.push(newCaminho);\r\n            return this.props.updateCaminhos(caminhos)\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    deleteCaminho(caminho: Caminho): boolean {\r\n        let caminhos = this.props.caminhos;\r\n        let index = this.findIndex(caminho, caminhos);\r\n        if (index !== -1) {\r\n            caminhos.splice(index, 1);\r\n            return this.props.updateCaminhos(caminhos)\r\n        }\r\n        return true\r\n    }\r\n\r\n    findIndex(caminho: Caminho, caminhos: Caminho[]) {\r\n        return caminhos.findIndex(element =>\r\n            element.idCaminho === caminho.idCaminho);\r\n    }\r\n\r\n    handleShow(index?: number) {\r\n        if (index !== undefined) {\r\n            this.setState(state => {\r\n                state.shows[index] = true;\r\n                return {shows: state.shows}\r\n            })\r\n        } else {\r\n            this.setState({showPlus: true})\r\n        }\r\n    }\r\n\r\n\r\n    handleHide(index?: number) {\r\n        if (index !== undefined) {\r\n            this.setState(state => {\r\n                state.shows[index] = false;\r\n                return {shows: state.shows}\r\n            })\r\n        } else {\r\n            this.setState({showPlus: false})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const caminhos = this.props.caminhos;\r\n        return (\r\n            <Container>\r\n                <Col>\r\n                    caminhos\r\n                    {this.renderAddCaminho()}\r\n                    {caminhos.map((caminho, index) => {\r\n                        return (\r\n                            <Row\r\n                                key={index}\r\n                            >\r\n                                <Col md={5}>\r\n                                    <Button\r\n                                        variant={\"light\"}\r\n                                        block\r\n                                        onClick={() => this.handleShow(index)}\r\n                                    >\r\n                                        {caminho.nomeCaminho}\r\n                                    </Button>\r\n                                </Col>\r\n                                <Col style={{paddingLeft: 0, paddingRight: 0}}>\r\n                                    <CaminhoApp\r\n                                        caminho={caminho}\r\n                                        show={this.state.shows[index]}\r\n                                        add={this.addCaminho.bind(this)}\r\n                                        update={this.updateCaminhos.bind(this)}\r\n                                        delete={this.deleteCaminho.bind(this)}\r\n                                        handleHide={() => this.handleHide(index)}\r\n                                    />\r\n                                    <Button\r\n                                        size={\"sm\"} variant=\"outline-danger\"\r\n                                        onClick={() => this.deleteCaminho(caminho)}\r\n                                    >&#10005;\r\n                                    </Button>\r\n                                </Col>\r\n                            </Row>\r\n                        )\r\n                    })}\r\n                </Col>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    renderAddCaminho() {\r\n        if (this.props.caminhos.length === 0) {\r\n            return (\r\n                <Row>\r\n                    <Button\r\n                        variant={\"light\"}\r\n                        block\r\n                        onClick={() => this.handleShow()}\r\n                    >Novo Caminho</Button>\r\n                    <CaminhoApp\r\n                        caminho={Sistema.caminhos[0]}\r\n                        add={this.addCaminho.bind(this)}\r\n                        show={this.state.showPlus}\r\n                        handleHide={() => this.handleHide()}\r\n                    />\r\n                </Row>)\r\n        }\r\n    }\r\n}\r\n","import React, {FormEvent} from \"react\";\r\nimport Descendencia from \"./Descendencia\";\r\nimport {Button, Col, FormControl, Modal, ModalBody, ModalFooter, Row, Tab, Table, Tabs} from \"react-bootstrap\";\r\nimport Sistema from \"../sistema/Sistema\";\r\n\r\ninterface Props {\r\n    handleHide: Function\r\n    descendencia: Descendencia\r\n    show: boolean\r\n\r\n    add?(newDescendencia: Descendencia): boolean\r\n\r\n    update?(newDescendencia: Descendencia, prevDescendencia: Descendencia): boolean\r\n\r\n    delete?(descendencia: Descendencia): boolean\r\n}\r\n\r\ninterface State {\r\n    descendencia: Descendencia\r\n    value: string\r\n    isInvalid: boolean\r\n}\r\n\r\nexport default class DescendenciaApp extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            descendencia: this.props.descendencia,\r\n            value: this.props.descendencia.idDescendencia.toString(),\r\n            isInvalid: false\r\n        }\r\n    }\r\n\r\n    handleChange(event: FormEvent) {\r\n        let value = (event.target as HTMLFormElement).value;\r\n        let descendencia = Sistema.descendencias.find(descendencia => descendencia.idDescendencia === Number(value));\r\n        if (descendencia !== undefined)\r\n            this.setState({\r\n                descendencia: descendencia,\r\n                value: value,\r\n                isInvalid: false\r\n            });\r\n        else\r\n            alert(\"Ops algo deu errado!\");\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<Props>, prevState: Readonly<State>, snapshot?: any): void {\r\n        if (!prevProps.show && this.props.show) {\r\n            this.setState({\r\n                value: this.props.descendencia.idDescendencia.toString(),\r\n                descendencia: this.props.descendencia\r\n            })\r\n        }\r\n    }\r\n\r\n    handleInvalid() {\r\n        this.setState({isInvalid: true});\r\n        setTimeout(() => this.setState({isInvalid: false}), 1000)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal\r\n                    show={this.props.show}\r\n                    onHide={() => this.props.handleHide()}\r\n                >\r\n                    <Modal.Header closeButton>\r\n                        <FormControl\r\n                            value={this.state.value}\r\n                            onChange={this.handleChange.bind(this)}\r\n                            as={\"select\"}\r\n                            plaintext={false}\r\n                            isInvalid={this.state.isInvalid}\r\n                        >\r\n                            {Sistema.descendencias.map((descendencia, index) =>\r\n                                <option\r\n                                    value={descendencia.idDescendencia.toString()}\r\n                                    key={index}\r\n                                >\r\n                                    {descendencia.nomeDescendencia}\r\n                                </option>\r\n                            )}\r\n                        </FormControl>\r\n                    </Modal.Header>\r\n                    <ModalBody>\r\n                        <Tabs defaultActiveKey={\"descDescendencia\"} id={\"tab-escolha-descendencia\"}>\r\n                            {this.tabDesc()}\r\n                            {this.tabHabilidade()}\r\n                            {this.tabHabitos()}\r\n                        </Tabs>\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        {this.renderBotoes()}\r\n                    </ModalFooter>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderBotoes() {\r\n        let botoes = [];\r\n        if (this.props.add !== undefined) {\r\n            botoes.push(\r\n                <Button\r\n                    onClick={() => {\r\n                        this.props.add!(this.state.descendencia) ?\r\n                            this.props.handleHide() : this.handleInvalid()\r\n                    }}\r\n                    key={'1'}\r\n                >Add</Button>\r\n            );\r\n        }\r\n        if (this.props.update !== undefined) {\r\n            botoes.push(\r\n                <Button\r\n                    onClick={() => {\r\n                        this.props.update!(this.state.descendencia, this.props.descendencia) ?\r\n                            this.props.handleHide() : this.handleInvalid()\r\n                    }}\r\n                    key={'2'}\r\n                >update</Button>\r\n            );\r\n        }\r\n        if (this.props.delete !== undefined) {\r\n            botoes.push(\r\n                <Button\r\n                    onClick={() => this.props.delete!(this.state.descendencia) ?\r\n                        this.props.handleHide() : this.handleInvalid()}\r\n                    key={\"3\"}\r\n                >delete</Button>\r\n            );\r\n        }\r\n        return botoes;\r\n    }\r\n\r\n    tabDesc() {\r\n        if (this.state.descendencia) {\r\n            return (\r\n                <Tab eventKey={\"descDescendencia\"} title={\"Descrio\"}>\r\n                    <Row>\r\n                        <Col>\r\n                            {this.state.descendencia.descDescendencia}\r\n                        </Col>\r\n                    </Row>\r\n                </Tab>\r\n            )\r\n        } else {\r\n            return (\r\n                <Tab eventKey={\"descDescendencia\"} title={\"Descrio\"} disabled={true}\r\n                >empty</Tab>\r\n            )\r\n        }\r\n    }\r\n\r\n    tabHabilidade() {\r\n        if (this.state.descendencia && this.state.descendencia.habilidades.length > 0) {\r\n            return (\r\n                <Tab eventKey={\"habilidades\"} title={\"habilidades\"}>\r\n                    <Col>\r\n                        {this.state.descendencia.habilidades.map((habilidade, index) => {\r\n                            return (\r\n                                <Row key={index}>\r\n                                    <Col>\r\n                                        {habilidade.nomeHabilidade}\r\n                                    </Col>\r\n                                    <Col>\r\n                                        {habilidade.descHabilidade}\r\n                                    </Col>\r\n                                </Row>\r\n                            )\r\n                        })}\r\n                    </Col>\r\n                </Tab>\r\n            )\r\n        } else\r\n            return (\r\n                <Tab eventKey={\"habilidades\"} title={\"habilidades\"} disabled={true}>empty</Tab>\r\n            )\r\n    }\r\n\r\n    tabHabitos() {\r\n        if (this.state.descendencia && this.state.descendencia.habitos.length > 0)\r\n            return (\r\n                <Tab eventKey={\"habitos\"} title={\"habitos\"}>\r\n                    <Table>\r\n                        <thead>\r\n                        <tr>\r\n                            <th>Nome</th>\r\n                            <th>Quantidade</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        {this.state.descendencia.habitos.map((habito, index) => {\r\n                            return (\r\n                                <tr key={index}>\r\n                                    <td>{habito.nomeHabito}</td>\r\n                                    <td>{habito.qtdFichaHabito}</td>\r\n                                </tr>\r\n                            )\r\n                        })}\r\n                        </tbody>\r\n                    </Table>\r\n                </Tab>\r\n            );\r\n        else\r\n            return (\r\n                <Tab eventKey={\"habitos\"} title={\"habitos\"} disabled={true}>empty</Tab>\r\n            )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { Button, Col, Form, Row, Container } from \"react-bootstrap\";\r\nimport Descendencia from \"./Descendencia\";\r\nimport DescendenciaApp from \"./DescendenciaApp\";\r\nimport \"./DescendenciasApp.css\"\r\nimport Sistema from \"../sistema/Sistema\";\r\n\r\ninterface Props {\r\n    descendencias: Descendencia[]\r\n    updateDescendencias(descendencias: Descendencia[]): boolean\r\n}\r\n\r\ninterface State {\r\n    show: boolean[]\r\n    showPlus: boolean\r\n}\r\n\r\nexport default class DescendenciasApp extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            show: [],\r\n            showPlus: false\r\n        };\r\n    }\r\n\r\n    updateDescendencia(newDescendencia: Descendencia, prevDescendencia: Descendencia) {\r\n        let descendencias = this.props.descendencias;\r\n        let index = this.findIndex(prevDescendencia, descendencias);\r\n        if (index !== -1) {\r\n            descendencias[index] = newDescendencia;\r\n            return this.props.updateDescendencias(descendencias);\r\n        } else {\r\n            return false\r\n        }\r\n    }\r\n\r\n    addDescendencia(newDescendencia: Descendencia) {\r\n        let descendencias = this.props.descendencias;\r\n        let index = this.findIndex(newDescendencia, this.props.descendencias);\r\n        if (index === -1) {\r\n            descendencias.push(newDescendencia);\r\n            return this.props.updateDescendencias(descendencias);\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    deleteDescendencia(descendencia: Descendencia) {\r\n        let descendencias = this.props.descendencias;\r\n        let index = this.findIndex(descendencia, descendencias);\r\n        if (index !== -1) {\r\n            descendencias.splice(index, 1);\r\n            return this.props.updateDescendencias(descendencias);\r\n        } else {\r\n            return false\r\n        }\r\n    }\r\n\r\n    findIndex(descendencia: Descendencia, descendencias: Descendencia[]) {\r\n        return descendencias.findIndex(element =>\r\n            element.idDescendencia === descendencia.idDescendencia)\r\n    }\r\n\r\n    handleShow(index?: number) {\r\n        if (index !== undefined) {\r\n            this.setState(state => {\r\n                state.show[index] = true;\r\n                return { show: state.show }\r\n            })\r\n        } else {\r\n            this.setState({ showPlus: true })\r\n        }\r\n    }\r\n\r\n\r\n    handleHide(index?: number) {\r\n        if (index !== undefined) {\r\n            this.setState(state => {\r\n                state.show[index] = false;\r\n                return { show: state.show }\r\n            })\r\n        } else {\r\n            this.setState({ showPlus: false })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const descendencias = this.props.descendencias;\r\n        return (\r\n            <Container>\r\n                <Row>\r\n                    <Col>\r\n                        <Form.Label column={false}>\r\n                            Descendencias\r\n                        </Form.Label>\r\n                    </Col>\r\n                    <Col>\r\n                        <Button\r\n                            size={\"sm\"}\r\n                            variant={\"outline-info\"}\r\n                            onClick={() => this.handleShow()}\r\n                        >+</Button>\r\n                        <DescendenciaApp\r\n                            descendencia={Sistema.descendencias[0]}\r\n                            add={this.addDescendencia.bind(this)}\r\n                            show={this.state.showPlus}\r\n                            handleHide={() => this.handleHide()}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                {descendencias.map((descendencia, index) => {\r\n                    return (\r\n                        <Row key={index}>\r\n                            <Col md={8}>\r\n                                <Button\r\n                                    variant={\"light\"}\r\n                                    block\r\n                                    onClick={() => this.handleShow(index)}\r\n                                >\r\n                                    {descendencia.nomeDescendencia}\r\n                                </Button>\r\n                            </Col>\r\n                            <Col md={\"auto\"}>\r\n                                <DescendenciaApp\r\n                                    descendencia={descendencia}\r\n                                    show={this.state.show[index]}\r\n                                    update={this.updateDescendencia.bind(this)}\r\n                                    add={this.addDescendencia.bind(this)}\r\n                                    delete={this.deleteDescendencia.bind(this)}\r\n                                    handleHide={() => this.handleHide(index)}\r\n                                />\r\n                            </Col>\r\n                            <Col md style={{ paddingLeft: 0, paddingRight: 0 }}>\r\n                                <Button\r\n                                    size={\"sm\"} variant=\"outline-danger\"\r\n                                    onClick={() => this.deleteDescendencia(descendencia)}\r\n                                >&#10005;</Button>\r\n                            </Col>\r\n                        </Row>\r\n                    )\r\n                }\r\n                )}\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport Ficha from \"./Ficha\";\r\nimport Table from 'react-bootstrap/Table'\r\nimport {FormControl} from \"react-bootstrap\";\r\n\r\ninterface Props {\r\n    ficha: Ficha\r\n}\r\n\r\ninterface State{\r\n    ficha: Ficha,\r\n    readonly: boolean[]\r\n}\r\nexport default class TabelaDeAtributosApp extends React.Component<Props, State> {\r\n    constructor(props:Props) {\r\n        super(props);\r\n        this.state = {\r\n            ficha:Object.assign({}, this.props.ficha),\r\n            readonly:[]\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const ficha = this.props.ficha;\r\n        return (\r\n            <Table hover={true} size={\"sm\"} striped>\r\n                <thead>\r\n                <tr className=\"thead-dark\">\r\n                    <th>Atributos</th>\r\n                    <th>Raa</th>\r\n                    <th>Distribuido</th>\r\n                    <th>Total</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr>\r\n                    <th>FOR</th>\r\n                    <td>{ficha.raca.racaForca}</td>\r\n                    <td>\r\n                        <FormControl\r\n                            as={\"input\"}\r\n                            plaintext={true}\r\n                            readOnly={true}\r\n                            value={ficha.distForca.toString()}\r\n                            type={\"number\"}\r\n                        />\r\n                    </td>\r\n                    <td>\r\n                        {ficha.distForca + (ficha.raca.racaForca !== undefined ? ficha.raca.racaForca : 0)}\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <th>CON</th>\r\n                    <td>{ficha.raca.racaConstituicao}</td>\r\n                    <td>\r\n                        {ficha.distConstituicao}\r\n                    </td>\r\n                    <td>\r\n                        {ficha.distConstituicao + (ficha.raca.racaConstituicao !== undefined ? ficha.raca.racaConstituicao : 0)}\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <th>AGI</th>\r\n                    <td>{ficha.raca.racaAgilidade}</td>\r\n                    <td>\r\n                        {ficha.distAgilidade}\r\n                    </td>\r\n                    <td>\r\n                        {ficha.distForca + (ficha.raca.racaForca !== undefined ? ficha.raca.racaForca : 0)}\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <th>DES</th>\r\n                    <td>{ficha.raca.racaDestreza}</td>\r\n                    <td>\r\n                        {ficha.distDestreza}\r\n                    </td>\r\n                    <td>\r\n                        {ficha.distAgilidade + (ficha.raca.racaAgilidade !== undefined ? ficha.raca.racaAgilidade : 0)}\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <th>INT</th>\r\n                    <td>{ficha.raca.racaInteligencia}</td>\r\n                    <td>\r\n                        {ficha.distInteligencia}\r\n                    </td>\r\n                    <td>\r\n                        {ficha.distInteligencia + (ficha.raca.racaInteligencia !== undefined ? ficha.raca.racaInteligencia : 0)}\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <th>SAB</th>\r\n                    <td>{ficha.raca.racaSabedoria}</td>\r\n                    <td>\r\n                        {ficha.distSabedoria}\r\n                    </td>\r\n                    <td>\r\n                        {ficha.distSabedoria + (ficha.raca.racaSabedoria !== undefined ? ficha.raca.racaSabedoria : 0)}\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <th>CAR</th>\r\n                    <td>{ficha.raca.racaCarisma}</td>\r\n                    <td>\r\n                        {ficha.distCarisma}\r\n                    </td>\r\n                    <td>\r\n                        {ficha.distCarisma + (ficha.raca.racaCarisma !== undefined ? ficha.raca.racaCarisma : 0)}\r\n                    </td>\r\n                </tr>\r\n                </tbody>\r\n            </Table>\r\n        );\r\n    }\r\n}\r\n","import * as React from 'react'\r\nimport Table from \"react-bootstrap/Table\";\r\nimport Habito from './Habito';\r\nimport Especializacao from '../especializacao/Especializacao';\r\n\r\ninterface Props {\r\n    habitos: Habito[]\r\n    updateHabitos(habitos: Habito[]): boolean\r\n    especializacoes?:Especializacao[]\r\n}\r\n\r\ninterface State {\r\n    habitos: Habito[]\r\n}\r\n\r\nexport default class HabitosApp extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            habitos: this.props.habitos\r\n        };\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Props) {\r\n        if (JSON.stringify(prevProps.habitos) !== JSON.stringify(this.props.habitos)) {\r\n            this.setState({ habitos: this.props.habitos })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const habitos = this.props.habitos\r\n        return (\r\n            <Table hover={true} size={\"sm\"}>\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th>Habito</th>\r\n                        <th>Quantidade</th>\r\n                        <th>Especilizaes</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {habitos.map(habito =>{\r\n                        let especComp=\"\";\r\n                        if(this.props.especializacoes != undefined && habito.especializacoes != undefined){\r\n                            this.props.especializacoes.filter((value)=>habito.especializacoes!.some((especHabito)=>value.idEspecializacao === especHabito.idEspecializacao)).forEach(especializacao=>{\r\n                                especComp += ((especComp === \"\"?especializacao.nomeEspecializacao :\", \" + especializacao.nomeEspecializacao))\r\n                            })\r\n                        }\r\n                        return(<tr key={habito.idHabito}>\r\n                            <td>{habito.nomeHabito}</td>\r\n                            <td>{habito.qtdFichaHabito}</td>\r\n                            <td>{especComp?especComp:\"\"}</td>\r\n                        </tr>)\r\n                    })}\r\n                </tbody>\r\n            </Table>\r\n        )\r\n    }\r\n}\r\n\r\n","import React from \"react\";\r\nimport Ficha from \"./Ficha\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport RacaApp from \"../raca/RacaApp\";\r\nimport CaminhosApp from \"../caminho/CaminhosApp\";\r\nimport DescendenciasApp from \"../descendencia/DescendenciasApp\";\r\nimport TabelaDeAtributosApp from \"./TabelaDeAtributosApp\";\r\nimport HabitosApp from \"../habito/HabitosApp\";\r\nimport Descendencia from \"../descendencia/Descendencia\";\r\nimport Caminho from \"../caminho/Caminho\";\r\nimport Raca from \"../raca/Raca\";\r\nimport Habito from \"../habito/Habito\";\r\n\r\ninterface Props {\r\n    ficha: Ficha\r\n    updateFicha(arg0: Ficha): void\r\n}\r\n\r\ninterface State {\r\n\r\n}\r\n\r\nexport default class FichaApp extends React.Component<Props, State>{\r\n\r\n    updateDescendencias(descendencias: Descendencia[]) {\r\n        this.props.updateFicha(Object.assign(new Ficha(this.props.ficha.idFicha), this.props.ficha, {descendencias:descendencias}));\r\n        return true\r\n    }\r\n\r\n    updateCaminhos(caminhos: Caminho[]) {\r\n        this.props.updateFicha(Object.assign(new Ficha(this.props.ficha.idFicha), this.props.ficha, {caminhos:caminhos}));\r\n        return true;\r\n    }\r\n\r\n    updateRaca(raca: Raca) {\r\n        this.props.updateFicha(Object.assign(new Ficha(this.props.ficha.idFicha),this.props.ficha,{raca:raca, idRaca:raca.idRaca}));\r\n        return true\r\n    }\r\n\r\n    updateHabitos(habitos: Habito[]) {\r\n        this.props.updateFicha(Object.assign(new Ficha(this.props.ficha.idFicha), this.props.ficha, {habittos:habitos}));\r\n        return true\r\n    }\r\n\r\n    render() {\r\n        const ficha = this.props.ficha;\r\n        return (\r\n            <Row>\r\n                <Col md={6}>\r\n                    <Row>\r\n                        <Col>\r\n                            Raa\r\n                            <RacaApp\r\n                                updateRaca={this.updateRaca.bind(this)}\r\n                                raca={ficha.raca}\r\n                            />\r\n                        </Col>\r\n                        <Col>\r\n                            <CaminhosApp\r\n                                updateCaminhos={this.updateCaminhos.bind(this)}\r\n                                caminhos={ficha.caminhos}\r\n                            />\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <DescendenciasApp\r\n                            descendencias={ficha.descendencias}\r\n                            updateDescendencias={this.updateDescendencias.bind(this)}\r\n                        />\r\n                    </Row>\r\n                </Col>\r\n                <Col>\r\n                    <Row>\r\n                        <TabelaDeAtributosApp\r\n                            ficha={ficha}\r\n                        />\r\n                    </Row>\r\n                    <Row>\r\n                        <HabitosApp\r\n                            habitos={ficha.habitos}\r\n                            updateHabitos={this.updateHabitos.bind(this)}\r\n                            especializacoes={ficha.especializacoes}\r\n                        />\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n        )\r\n    }\r\n}\r\n","import * as React from 'react'\r\nimport Ficha from '../ficha/Ficha';\r\n\r\ninterface Props{\r\n    ficha:Ficha\r\n}\r\n\r\ninterface State{\r\n    fichaBatalha:Ficha\r\n}\r\n\r\nexport default class QuadroDeBatalhaApp extends React.Component<Props,State>{\r\n    constructor(props:Props){\r\n        super(props)\r\n        this.state = {fichaBatalha:this.props.ficha}\r\n    }\r\n    ws = new WebSocket('ws://localhost:9000/chat/1')\r\n    \r\n    componentDidMount(){\r\n        const k = {user:\"teste\",action:\"JOINED\", message:\"xuxa\"}\r\n        this.ws.onopen=()=>{\r\n            console.log('WebSocket Client Connected');\r\n            this.ws.send(JSON.stringify(k));\r\n        };\r\n        this.ws.onmessage = (message) => {\r\n            console.log(message);\r\n          };\r\n          \r\n    }\r\n\r\n\r\n    render(){\r\n        \r\n        return <p>Estou tentando ao menos.</p>\r\n    }\r\n}","import * as React from 'react'\r\nimport queryString from 'query-string'\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport { NomeApp } from \"../components/ficha/NomeApp\";\r\nimport Ficha from \"../components/ficha/Ficha\";\r\nimport Sistema from \"../components/sistema/Sistema\";\r\nimport MyHeaders from \"../_services/MyHeaders\";\r\nimport IdadeApp from \"../components/ficha/IdadeApp\";\r\nimport NivelPersonagem from \"../components/ficha/NivelPersonagem\";\r\nimport ExperienciaApp from \"../components/ficha/ExperienciaApp\";\r\nimport { Nav, NavItem, TabContainer, TabContent, TabPane } from \"react-bootstrap\";\r\nimport Spinner from 'react-bootstrap/Spinner'\r\nimport HabilidadesApp from '../components/habilidade/HabilidadesApp';\r\nimport FichaApp from \"../components/ficha/FichaApp\";\r\nimport \"./FichaPersonagem.css\"\r\nimport Habilidade from \"../components/habilidade/Habilidade\";\r\nimport QuadroDeBatalhaApp from '../components/quadroDeBatalha/QuadroDeBatalhaApp';\r\n\r\ninterface State {\r\n    ficha: Ficha\r\n    sistema: Sistema\r\n    show: Map<string, string>\r\n    loading: boolean\r\n}\r\n\r\nexport default class FichaPersonagem extends React.Component<State, State> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            ficha: new Ficha(Number(queryString.parse(window.location.href.split(\"?\")[1]).idFicha)),\r\n            sistema: Sistema.sistema,\r\n            show: new Map([[\"ficha\", \"block\"], [\"quadroDeBatalha\", \"none\"], [\"inventario\", \"none\"]]),\r\n            loading: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(\"api/ficha/id/\" + this.state.ficha.idFicha, {\r\n            method: \"GET\",\r\n            headers: MyHeaders.getMyHeaders()\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                this.setState({ ficha: data as Ficha })\r\n                this.asynFichFetch()\r\n            });\r\n        \r\n    };\r\n\r\n    asynFichFetch(){\r\n        console.log(\"Waiting for async response\")\r\n        fetch(\"api/ficha/async/id/\"+ this.state.ficha.idFicha, {\r\n            method: \"GET\",\r\n            headers: MyHeaders.getMyHeaders()\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                this.setState({ ficha: data as Ficha })\r\n            }).then(()=>this.asynFichFetch())\r\n    }\r\n\r\n    updateFicha(newFicha: Ficha) {\r\n        console.log(newFicha);\r\n        this.setState({\r\n            loading: true\r\n        });\r\n        Ficha.update(newFicha).then(response => {\r\n            if (response.ok) {\r\n                console.log(\"Ficha atualizada com sucesso.\");\r\n                return true\r\n            } else {\r\n                console.log(\"Status \" + response.statusText);\r\n                return false\r\n            }\r\n        }).then((retorno)=>{\r\n            this.setState({\r\n                ficha: newFicha,\r\n                loading: false\r\n            });\r\n            return retorno;\r\n        })\r\n    }\r\n\r\n    updateHabilidades(habilidades:Habilidade[]){\r\n        return true\r\n    }\r\n\r\n    render() {\r\n        const ficha = this.state.ficha;\r\n        return (\r\n            <Container fluid>\r\n                <Row>\r\n                    <Col md={2}>\r\n                        <NomeApp\r\n                            updateFicha={this.updateFicha.bind(this)}\r\n                            ficha={ficha}\r\n                        />\r\n                    </Col>\r\n                    <Col md={2}>\r\n                        <IdadeApp\r\n                            updateFicha={this.updateFicha.bind(this)}\r\n                            ficha={ficha}\r\n                        />\r\n                    </Col>\r\n                    <Col md={2}>\r\n                        <NivelPersonagem\r\n                            updateFicha={this.updateFicha.bind(this)}\r\n                            ficha={ficha}\r\n                        />\r\n                    </Col>\r\n                    <Col md={2}>\r\n                        <ExperienciaApp\r\n                            updateFicha={this.updateFicha.bind(this)}\r\n                            ficha={ficha}\r\n                        />\r\n                    </Col>\r\n                    <Col md={2}>\r\n                        Vida////////Estado////////\r\n                    </Col>\r\n                    <Col className=\"d-flex justify-content-end\">\r\n                        <ButtonGroup>\r\n                            <Button\r\n                                size={\"sm\"} variant=\"secondary\"\r\n                                onClick={this.componentDidMount.bind(this)}\r\n                            >Reload</Button>\r\n                            <Button\r\n                                size={\"sm\"} variant=\"secondary\"\r\n                            >Retornar</Button>\r\n                            <Button\r\n                                size={\"sm\"} variant=\"secondary\"\r\n                            >Sair</Button>\r\n                        </ButtonGroup>\r\n                    </Col>\r\n                </Row>\r\n                <TabContainer\r\n                    id={\"ficha-personagem\"}\r\n                    defaultActiveKey={\"ficha\"}\r\n                >\r\n                    <Nav\r\n                        variant={\"tabs\"}\r\n                    >\r\n                        <NavItem>\r\n                            <Nav.Link eventKey={\"ficha\"}>\r\n                                Ficha\r\n                            </Nav.Link>\r\n                        </NavItem>\r\n                        <NavItem>\r\n                            <Nav.Link eventKey={\"quadroDeBatalha\"}>\r\n                                Quadro de Batalha\r\n                            </Nav.Link>\r\n                        </NavItem>\r\n                        <NavItem>\r\n                            <Nav.Link\r\n                                eventKey={\"inventario\"}\r\n                            >\r\n                                Inventrio\r\n                            </Nav.Link>\r\n                        </NavItem>\r\n                        <NavItem>\r\n                            <Nav.Link eventKey={\"habilidades\"}>Habilidades</Nav.Link>\r\n                        </NavItem>\r\n                        <Spinner\r\n                            animation=\"border\"\r\n                            variant=\"primary\"\r\n                            style={{\r\n                                \"float\": \"right\",\r\n                                \"marginLeft\": \"auto\",\r\n                                \"display\": this.state.loading ? \"inline-block\" : \"none\"\r\n                            }}\r\n                        />\r\n                    </Nav>\r\n                    <TabContent>\r\n                        <TabPane eventKey={\"ficha\"}>\r\n                            <FichaApp\r\n                                ficha={ficha}\r\n                                updateFicha={this.updateFicha.bind(this)}\r\n                            />\r\n                        </TabPane>\r\n                        <TabPane eventKey={\"quadroDeBatalha\"}>\r\n                            <QuadroDeBatalhaApp\r\n                                ficha={ficha}\r\n                            />\r\n                        </TabPane>\r\n                        <TabPane eventKey={\"inventario\"}>\r\n                            INVENTARIO\r\n                        </TabPane>\r\n                        <TabPane eventKey={\"habilidades\"}>\r\n                            <HabilidadesApp\r\n                                habilidades={ficha.habilidades}\r\n                                updateHabilidades={this.updateHabilidades.bind(this)}\r\n                            />\r\n                        </TabPane>\r\n                    </TabContent>\r\n                </TabContainer>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n\r\nexport { FichaPersonagem }\r\n","import React from 'react';\r\nimport './App.css';\r\nimport {HashRouter as Router, Route, Switch} from 'react-router-dom'\r\nimport {LoginPage} from \"./login\";\r\nimport {EscolheFicha} from \"./escolheFicha/EscolheFicha\";\r\nimport FichaPersonagem from \"./personagem/FichaPersonagem\";\r\n\r\nclass App extends React.Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Router>\r\n                    <Switch>\r\n                        <Route path={\"/\"} exact={true} component={LoginPage}/>\r\n                        <Route path={\"/escolhe_ficha\"} component={EscolheFicha}/>\r\n                        <Route path={\"/ficha\"} component={FichaPersonagem}/>\r\n                    </Switch>\r\n                </Router>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n        // The URL constructor is available in all browsers that support SW.\r\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n        if (publicUrl.origin !== window.location.origin) {\r\n            // Our service worker won't work if PUBLIC_URL is on a different origin\r\n            // from what our page is served on. This might happen if a CDN is used to\r\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n            return;\r\n        }\r\n\r\n        window.addEventListener('load', () => {\r\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n            if (isLocalhost) {\r\n                // This is running on localhost. Let's check if a service worker still exists or not.\r\n                checkValidServiceWorker(swUrl, config);\r\n\r\n                // Add some additional logging to localhost, pointing developers to the\r\n                // service worker/PWA documentation.\r\n                navigator.serviceWorker.ready.then(() => {\r\n                    console.log(\r\n                        'This web app is being served cache-first by a service ' +\r\n                        'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n                    );\r\n                });\r\n            } else {\r\n                // Is not localhost. Just register service worker\r\n                registerValidSW(swUrl, config);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n    navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then(registration => {\r\n            registration.onupdatefound = () => {\r\n                const installingWorker = registration.installing;\r\n                if (installingWorker == null) {\r\n                    return;\r\n                }\r\n                installingWorker.onstatechange = () => {\r\n                    if (installingWorker.state === 'installed') {\r\n                        if (navigator.serviceWorker.controller) {\r\n                            // At this point, the updated precached content has been fetched,\r\n                            // but the previous service worker will still serve the older\r\n                            // content until all client tabs are closed.\r\n                            console.log(\r\n                                'New content is available and will be used when all ' +\r\n                                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n                            );\r\n\r\n                            // Execute callback\r\n                            if (config && config.onUpdate) {\r\n                                config.onUpdate(registration);\r\n                            }\r\n                        } else {\r\n                            // At this point, everything has been precached.\r\n                            // It's the perfect time to display a\r\n                            // \"Content is cached for offline use.\" message.\r\n                            console.log('Content is cached for offline use.');\r\n\r\n                            // Execute callback\r\n                            if (config && config.onSuccess) {\r\n                                config.onSuccess(registration);\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n            };\r\n        })\r\n        .catch(error => {\r\n            console.error('Error during service worker registration:', error);\r\n        });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl)\r\n        .then(response => {\r\n            // Ensure service worker exists, and that we really are getting a JS file.\r\n            const contentType = response.headers.get('content-type');\r\n            if (\r\n                response.status === 404 ||\r\n                (contentType != null && contentType.indexOf('javascript') === -1)\r\n            ) {\r\n                // No service worker found. Probably a different app. Reload the page.\r\n                navigator.serviceWorker.ready.then(registration => {\r\n                    registration.unregister().then(() => {\r\n                        window.location.reload();\r\n                    });\r\n                });\r\n            } else {\r\n                // Service worker found. Proceed as normal.\r\n                registerValidSW(swUrl, config);\r\n            }\r\n        })\r\n        .catch(() => {\r\n            console.log(\r\n                'No internet connection found. App is running in offline mode.'\r\n            );\r\n        });\r\n}\r\n\r\nexport function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n        navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister();\r\n        });\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(\r\n        <App/>,\r\n        document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}